
<!DOCTYPE html>
<html lang="ko">
    <link rel="canonical" href="https://loco9939.github.io/2022/09/19/pairprogramming/level 1/darkmode, modal, stopwatch tip/"/>

<head>
    <meta name="google-site-verification" content=<content></content>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="generator" content="Loco&#39;s Dev Blog">
    <title>darkmode, modal, stopwatch Tip - Loco&#39;s Dev Blog</title>
    <meta name="author" content="loco9939">
    
        <meta name="keywords" content="loco9939,javascript,">
    
    
    
        
            <link rel="alternate" type="application/atom+xml" title="RSS" href="/atom.xml">
        
    
    <script type="application/ld+json">{"@context":"http://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"loco9939","sameAs":["https://github.com/","http://stackoverflow.com/users","https://twitter.com/","https://facebook.com/","https://plus.google.com/","https://www.linkedin.com/profile/","mailto"]},"articleBody":"darkMode 리팩터링 중 느낀점1. setDarkMode 함수의 응집도를 높이고 관심사를 구분하자.12345678910111213141516171819202122232425262728293031323334353637383940414243const setDarkMode = (() =&gt; &#123;  const $body = document.body;  const userTheme = window.matchMedia(&quot;(prefers-color-scheme: dark)&quot;).matches;  const transitionDuration =    +getComputedStyle(document.documentElement).getPropertyValue(      &quot;--transition-duration&quot;    ) * 1000;  const getCurrentMode = () =&gt; JSON.parse(localStorage.getItem(&quot;isDark&quot;));  const toggleMode = () =&gt; &#123;    $body.classList.toggle(&quot;dark&quot;, getCurrentMode());  &#125;;  const setCurrentMode = (selectedMode) =&gt; &#123;    localStorage.setItem(&quot;isDark&quot;, selectedMode);    toggleMode();  &#125;;  return &#123;    toggle() &#123;      setCurrentMode(!getCurrentMode());    &#125;,    init() &#123;      localStorage.getItem(&quot;isDark&quot;) === null        ? setCurrentMode(userTheme)        : toggleMode();    &#125;,    preventBlink() &#123;      setTimeout(() =&gt; &#123;        $body.classList.remove(&quot;hide&quot;);      &#125;, transitionDuration);    &#125;,  &#125;;&#125;)();document  .querySelector(&quot;.toggle-button&quot;)  .addEventListener(&quot;click&quot;, setDarkMode.toggle);window.addEventListener(&quot;DOMContentLoaded&quot;, setDarkMode.init);window.addEventListener(&quot;load&quot;, setDarkMode.preventBlink);\n\n\nsetDarkMode 함수와 관련된 변수와 함수를 한곳에 모아 응집도를 높이고 즉시실행함수로 감싸고 클로저를 구현하였다.\n\n즉시실행함수의 반환값인 toggle, init, preventBlink 함수는 자유변수를 참조하고 외부함수보다 생명주기가 긴 클로저이다.\n\npreventBlink 함수와 init 함수는 결국 렌더링과 관련된 함수여서 하나로 합칠까 생각했지만, 그 경우, 이미지 파일이 많은 프로그램인 경우 이미지가 로드되기 전에 darkMode를 동작이 제대로 되지 않을 수 있다고 판단하여 다른 함수로 구분하였다.\n\naddEventListener는 가능한 한줄로 쓰자는 팀원과의 컨벤션을 지키기 위해 위와같이 작성하였고 이벤트 핸들러가 많아지게 되면서 복잡해지더라도 한줄로 있으면 가독성을 높일 수 있을 것이라 생각했다.\n\n\npopupModal 리팩터링 중 느낀점1. 변수를 사용한 이유123const $modalContainer = document.querySelector(&quot;.modal-container&quot;);const $modal = document.querySelector(&quot;.modal&quot;);const $popupMessage = document.querySelector(&quot;.popup-message&quot;);\n\n\n위의 document.querySelector() DOM API는 처음에 한번만 요소를 가져와 변수에 할당해주면 된다. 굳이 이벤트 핸들러 함수 내부에 적어서 함수가 호출될 때마다 DOM API까지 같이 호출될 필요가 없으므로 변수에 값을 저장해서 사용하였다.\n\n2. 누군가가 코드를 읽을 때, 한번 더 생각하게 하지 않도록 작성하자.123456789101112131415// 1번    toggle(method) &#123;      $modal.classList[method](&#x27;is-open&#x27;);      $modalContainer.classList[method](&#x27;background-gray&#x27;);    &#125;,// 2번    toggle() &#123;      $modal.classList.toggle(&#x27;is-open&#x27;);      $modalContainer.classList.toggle(&#x27;background-gray&#x27;);    &#125;,    remove() &#123;      $modal.classList.remove(&#x27;is-open&#x27;);      $modalContainer.classList.remove(&#x27;background-gray&#x27;);    &#125;,\n\n\n처음에 중복을 줄이기 위해 1번으로 구현했었는데, 오히려 직접 사용해보니 2번의 경우가 가독성이 더 낫다고 판단했다. 그 이유는 이벤트 핸들러에서 toggle(‘remove’) 이런식으로 사용하는 것보다 toggle, remove를 사용하는 것이 더 깔끔하기 때문이다.\n\n3. 이벤트 핸들러 축약표현 알아두기1234567render(e) &#123;  e.preventDefault();  $popupMessage.textContent = `from popup : $&#123;e.target.firstElementChild.value&#125;`;  popupModal.toggle(&#x27;remove&#x27;);&#125;document.querySelector(&#x27;.popup-form&#x27;).addEventListener(&#x27;submit&#x27;, render);\n\n\nrender 함수를 이벤트 핸들러로 등록할 때, event 객체를 받아서 e.preventDefault() 메서드를 실행하는데, 이벤트 핸들러에서는 인수를 전달해주지 않아도 축약표현으로 인식하여 event 객체를 해당 위치에 전달해준다.\n\nstopWatch 리팩터링 중 느낀점1. 배열 디스트럭처링 사용1const [$leftButton, $rightButton] = [...document.querySelectorAll(&quot;.control&quot;)];\n\n\nleftButton, rightButton &#x2F; laps, title은 동일한 클래스를 가져 querySelectAll로 불러와서 인덱스 값으로 접근하는 것이 아닌 배열 디스트럭처링 할당으로 식별자를 할당해주었습니다.\n\n2. 버튼 요소의 textContent 값으로 조건문을 구분하는 것은 좋지 않다.123456789101112// 1번if ($leftButton.textContent === &quot;Stop&quot;) &#123;  ...&#125;// 2번let state = &#123;  isStarted:true&#125;if (state.isStarted) &#123;    ...&#125;\n\n\n1번 처럼 textContent로 조건문을 사용하게되면 나중에 textContent를 수정하게되면 유지보수가 어려워지므로 상태로서 관리하는 것을 추천한다.\n\n3. 함수는 각자의 역할에 맞는 코드를 포함하도록 작성해야한다.1234567891011121314151617181920212223242526272829303132333435const render = () =&gt; &#123;  if (state.isStarted) &#123;    $leftButton.textContent = &quot;Stop&quot;;    $rightButton.textContent = &quot;Lap&quot;;    $rightButton.removeAttribute(&quot;disabled&quot;);    $laps.innerHTML = `Laps      $&#123;state.laps.map((_, index) =&gt; `&lt;div&gt;$&#123;index + 1&#125;&lt;/div&gt;`).join(&quot;&quot;)&#125;      `;    $time.innerHTML = `Time      $&#123;state.laps.map((lap) =&gt; `&lt;div&gt;$&#123;lap&#125;&lt;/div&gt;`).join(&quot;&quot;)&#125;      `;  &#125; else &#123;    $leftButton.textContent = &quot;Start&quot;;    $rightButton.textContent = &quot;Reset&quot;;  &#125;&#125;;const setState = (newState) =&gt; &#123;  state = &#123; ...state, ...newState &#125;;  render();&#125;;const toggleStarted = () =&gt; &#123;  setState(&#123; isStarted: !state.isStarted &#125;);  updateTime();&#125;;const addLap = () =&gt; &#123;  const newLap = $display.textContent;  setState(&#123; laps: [...state.laps, newLap] &#125;);&#125;;\n\n\nrender 함수는 leftButton, rightButton을 클릭했을 때, 화면에 글자가 바꾸는 일을 해준다.\n\nsetState 함수는 데이터를 변경하고 그 데이터를 가지고 화면에 render 하는 함수를 호출하는 역할을 한다.\n\ntoggleStarted 함수는 isStarted 데이터를 변경시키고 시간을 갱신하는 역할을 한다.\n\naddLap 함수는 $display의 textContent값으로 laps 데이터를 변경시키는 역할을 한다.\n\n\n\n스톱워치에 아직 리팩터링 중인데, 버튼은 2개인데 가정해야할 상황이 4가지여서 어떻게 짜면 좋을지 고민중이다…\n\n","dateCreated":"2022-09-19T19:07:25+09:00","dateModified":"2022-11-18T17:19:16+09:00","datePublished":"2022-09-19T19:07:25+09:00","description":"","headline":"darkmode, modal, stopwatch Tip","image":[],"mainEntityOfPage":{"@type":"WebPage","@id":"https://loco9939.github.io/2022/09/19/PairProgramming/level%201/darkmode,%20modal,%20stopwatch%20Tip/"},"publisher":{"@type":"Organization","name":"loco9939","sameAs":["https://github.com/","http://stackoverflow.com/users","https://twitter.com/","https://facebook.com/","https://plus.google.com/","https://www.linkedin.com/profile/","mailto"]},"url":"https://loco9939.github.io/2022/09/19/PairProgramming/level%201/darkmode,%20modal,%20stopwatch%20Tip/"}</script>
    <meta name="description" content="darkMode 리팩터링 중 느낀점1. setDarkMode 함수의 응집도를 높이고 관심사를 구분하자.12345678910111213141516171819202122232425262728293031323334353637383940414243const setDarkMode &#x3D; (() &#x3D;&gt; &amp;#123;  const $body &#x3D; document.body;">
<meta property="og:type" content="blog">
<meta property="og:title" content="darkmode, modal, stopwatch Tip">
<meta property="og:url" content="https://loco9939.github.io/2022/09/19/PairProgramming/level%201/darkmode,%20modal,%20stopwatch%20Tip/index.html">
<meta property="og:site_name" content="Loco&#39;s Dev Blog">
<meta property="og:description" content="darkMode 리팩터링 중 느낀점1. setDarkMode 함수의 응집도를 높이고 관심사를 구분하자.12345678910111213141516171819202122232425262728293031323334353637383940414243const setDarkMode &#x3D; (() &#x3D;&gt; &amp;#123;  const $body &#x3D; document.body;">
<meta property="og:locale" content="ko_KR">
<meta property="article:published_time" content="2022-09-19T10:07:25.000Z">
<meta property="article:modified_time" content="2022-11-18T08:19:16.219Z">
<meta property="article:author" content="loco9939">
<meta property="article:tag" content="loco9939">
<meta property="article:tag" content="javascript">
<meta name="twitter:card" content="summary">
    
    
        
    
    
    
    
    
    <!--STYLES-->
    
<link rel="stylesheet" href="/assets/css/style-alaac2o0p8lb5n7mx8aazw1dzhwcsltexgjtf9twurzytkujqiefoq1soijy.min.css">

    <!--STYLES END-->
    

    

    
        
    
</head>

    <body>
        <div id="blog">
            <!-- Define author's picture -->


    

<header id="header" data-behavior="4">
    <i id="btn-open-sidebar" class="fa fa-lg fa-bars"></i>
    <div class="header-title">
        <a
            class="header-title-link"
            href="/"
            aria-label=""
        >
            Loco&#39;s Dev Blog
        </a>
    </div>
    
        
            <a
                class="header-right-picture "
                href="#about"
                aria-label="링크 열기: /#about"
            >
        
        
        </a>
    
</header>

            <!-- Define author's picture -->


<nav id="sidebar" data-behavior="4">
    <div class="sidebar-container">
        
        
            <ul class="sidebar-buttons">
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="/"
                            
                            rel="noopener"
                            title="Home"
                        >
                        <i class="sidebar-button-icon fa fa-home" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Home</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="/all-categories"
                            
                            rel="noopener"
                            title="카테고리"
                        >
                        <i class="sidebar-button-icon fa fa-bookmark" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">카테고리</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="/all-tags"
                            
                            rel="noopener"
                            title="태그"
                        >
                        <i class="sidebar-button-icon fa fa-tags" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">태그</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="/all-archives"
                            
                            rel="noopener"
                            title="아카이브"
                        >
                        <i class="sidebar-button-icon fa fa-archive" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">아카이브</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link open-algolia-search"
                            href="#search"
                            
                            rel="noopener"
                            title="검색"
                        >
                        <i class="sidebar-button-icon fa fa-search" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">검색</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="#about"
                            
                            rel="noopener"
                            title="About"
                        >
                        <i class="sidebar-button-icon fa fa-question" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">About</span>
                    </a>
            </li>
            
        </ul>
        
            <ul class="sidebar-buttons">
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="https://github.com/"
                            
                                target="_blank"
                            
                            rel="noopener"
                            title="GitHub"
                        >
                        <i class="sidebar-button-icon fab fa-github" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">GitHub</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="http://stackoverflow.com/users"
                            
                                target="_blank"
                            
                            rel="noopener"
                            title="Stack Overflow"
                        >
                        <i class="sidebar-button-icon fab fa-stack-overflow" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Stack Overflow</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="https://twitter.com/"
                            
                                target="_blank"
                            
                            rel="noopener"
                            title="Twitter"
                        >
                        <i class="sidebar-button-icon fab fa-twitter" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Twitter</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="https://facebook.com/"
                            
                                target="_blank"
                            
                            rel="noopener"
                            title="Facebook"
                        >
                        <i class="sidebar-button-icon fab fa-facebook" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Facebook</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="https://plus.google.com/"
                            
                                target="_blank"
                            
                            rel="noopener"
                            title="Google +"
                        >
                        <i class="sidebar-button-icon fab fa-google-plus" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Google +</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="https://www.linkedin.com/profile/"
                            
                                target="_blank"
                            
                            rel="noopener"
                            title="LinkedIn"
                        >
                        <i class="sidebar-button-icon fab fa-linkedin" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">LinkedIn</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="/mailto"
                            
                            rel="noopener"
                            title="Mail"
                        >
                        <i class="sidebar-button-icon fa fa-envelope" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Mail</span>
                    </a>
            </li>
            
        </ul>
        
            <ul class="sidebar-buttons">
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="/atom.xml"
                            
                            rel="noopener"
                            title="RSS"
                        >
                        <i class="sidebar-button-icon fa fa-rss" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">RSS</span>
                    </a>
            </li>
            
        </ul>
        
    </div>
</nav>

            
            <div id="main" data-behavior="4"
                 class="
                        hasCoverMetaIn
                        ">
                
<article class="post">
    
    
        <div class="post-header main-content-wrap text-left">
    
        <h1 class="post-title">
            darkmode, modal, stopwatch Tip
        </h1>
    
    
        <div class="post-meta">
    <time datetime="2022-09-19T19:07:25+09:00">
	
		    2022/09/19
    	
    </time>
    
        <span>카테고리 </span>
        
    <a class="category-link" href="/categories/Pair-Programming/">Pair Programming</a>, <a class="category-link" href="/categories/Pair-Programming/level-1/">level 1</a>


    
</div>

    
</div>

    
    <div class="post-content markdown">
        <div class="main-content-wrap">
            <h1 id="darkMode-리팩터링-중-느낀점"><a href="#darkMode-리팩터링-중-느낀점" class="headerlink" title="darkMode 리팩터링 중 느낀점"></a>darkMode 리팩터링 중 느낀점</h1><h2 id="1-setDarkMode-함수의-응집도를-높이고-관심사를-구분하자"><a href="#1-setDarkMode-함수의-응집도를-높이고-관심사를-구분하자" class="headerlink" title="1. setDarkMode 함수의 응집도를 높이고 관심사를 구분하자."></a>1. setDarkMode 함수의 응집도를 높이고 관심사를 구분하자.</h2><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> setDarkMode = (<span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> $body = <span class="variable language_">document</span>.<span class="property">body</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> userTheme = <span class="variable language_">window</span>.<span class="title function_">matchMedia</span>(<span class="string">&quot;(prefers-color-scheme: dark)&quot;</span>).<span class="property">matches</span>;</span><br><span class="line">  <span class="keyword">const</span> transitionDuration =</span><br><span class="line">    +<span class="title function_">getComputedStyle</span>(<span class="variable language_">document</span>.<span class="property">documentElement</span>).<span class="title function_">getPropertyValue</span>(</span><br><span class="line">      <span class="string">&quot;--transition-duration&quot;</span></span><br><span class="line">    ) * <span class="number">1000</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> <span class="title function_">getCurrentMode</span> = (<span class="params"></span>) =&gt; <span class="title class_">JSON</span>.<span class="title function_">parse</span>(<span class="variable language_">localStorage</span>.<span class="title function_">getItem</span>(<span class="string">&quot;isDark&quot;</span>));</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> <span class="title function_">toggleMode</span> = (<span class="params"></span>) =&gt; &#123;</span><br><span class="line">    $body.<span class="property">classList</span>.<span class="title function_">toggle</span>(<span class="string">&quot;dark&quot;</span>, <span class="title function_">getCurrentMode</span>());</span><br><span class="line">  &#125;;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> <span class="title function_">setCurrentMode</span> = (<span class="params">selectedMode</span>) =&gt; &#123;</span><br><span class="line">    <span class="variable language_">localStorage</span>.<span class="title function_">setItem</span>(<span class="string">&quot;isDark&quot;</span>, selectedMode);</span><br><span class="line">    <span class="title function_">toggleMode</span>();</span><br><span class="line">  &#125;;</span><br><span class="line">  <span class="keyword">return</span> &#123;</span><br><span class="line">    <span class="title function_">toggle</span>(<span class="params"></span>) &#123;</span><br><span class="line">      <span class="title function_">setCurrentMode</span>(!<span class="title function_">getCurrentMode</span>());</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="title function_">init</span>(<span class="params"></span>) &#123;</span><br><span class="line">      <span class="variable language_">localStorage</span>.<span class="title function_">getItem</span>(<span class="string">&quot;isDark&quot;</span>) === <span class="literal">null</span></span><br><span class="line">        ? <span class="title function_">setCurrentMode</span>(userTheme)</span><br><span class="line">        : <span class="title function_">toggleMode</span>();</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="title function_">preventBlink</span>(<span class="params"></span>) &#123;</span><br><span class="line">      <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">        $body.<span class="property">classList</span>.<span class="title function_">remove</span>(<span class="string">&quot;hide&quot;</span>);</span><br><span class="line">      &#125;, transitionDuration);</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;)();</span><br><span class="line"></span><br><span class="line"><span class="variable language_">document</span></span><br><span class="line">  .<span class="title function_">querySelector</span>(<span class="string">&quot;.toggle-button&quot;</span>)</span><br><span class="line">  .<span class="title function_">addEventListener</span>(<span class="string">&quot;click&quot;</span>, setDarkMode.<span class="property">toggle</span>);</span><br><span class="line"></span><br><span class="line"><span class="variable language_">window</span>.<span class="title function_">addEventListener</span>(<span class="string">&quot;DOMContentLoaded&quot;</span>, setDarkMode.<span class="property">init</span>);</span><br><span class="line"></span><br><span class="line"><span class="variable language_">window</span>.<span class="title function_">addEventListener</span>(<span class="string">&quot;load&quot;</span>, setDarkMode.<span class="property">preventBlink</span>);</span><br></pre></td></tr></table></figure>

<ul>
<li><p>setDarkMode 함수와 관련된 변수와 함수를 한곳에 모아 응집도를 높이고 즉시실행함수로 감싸고 클로저를 구현하였다.</p>
</li>
<li><p>즉시실행함수의 반환값인 toggle, init, preventBlink 함수는 자유변수를 참조하고 외부함수보다 생명주기가 긴 클로저이다.</p>
</li>
<li><p>preventBlink 함수와 init 함수는 결국 렌더링과 관련된 함수여서 하나로 합칠까 생각했지만, 그 경우, 이미지 파일이 많은 프로그램인 경우 이미지가 로드되기 전에 darkMode를 동작이 제대로 되지 않을 수 있다고 판단하여 다른 함수로 구분하였다.</p>
</li>
<li><p>addEventListener는 가능한 한줄로 쓰자는 팀원과의 컨벤션을 지키기 위해 위와같이 작성하였고 이벤트 핸들러가 많아지게 되면서 복잡해지더라도 한줄로 있으면 가독성을 높일 수 있을 것이라 생각했다.</p>
</li>
</ul>
<h1 id="popupModal-리팩터링-중-느낀점"><a href="#popupModal-리팩터링-중-느낀점" class="headerlink" title="popupModal 리팩터링 중 느낀점"></a>popupModal 리팩터링 중 느낀점</h1><h2 id="1-변수를-사용한-이유"><a href="#1-변수를-사용한-이유" class="headerlink" title="1. 변수를 사용한 이유"></a>1. 변수를 사용한 이유</h2><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> $modalContainer = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&quot;.modal-container&quot;</span>);</span><br><span class="line"><span class="keyword">const</span> $modal = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&quot;.modal&quot;</span>);</span><br><span class="line"><span class="keyword">const</span> $popupMessage = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&quot;.popup-message&quot;</span>);</span><br></pre></td></tr></table></figure>

<ul>
<li>위의 document.querySelector() DOM API는 처음에 한번만 요소를 가져와 변수에 할당해주면 된다. 굳이 이벤트 핸들러 함수 내부에 적어서 함수가 호출될 때마다 DOM API까지 같이 호출될 필요가 없으므로 변수에 값을 저장해서 사용하였다.</li>
</ul>
<h2 id="2-누군가가-코드를-읽을-때-한번-더-생각하게-하지-않도록-작성하자"><a href="#2-누군가가-코드를-읽을-때-한번-더-생각하게-하지-않도록-작성하자" class="headerlink" title="2. 누군가가 코드를 읽을 때, 한번 더 생각하게 하지 않도록 작성하자."></a>2. 누군가가 코드를 읽을 때, 한번 더 생각하게 하지 않도록 작성하자.</h2><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 1번</span></span><br><span class="line">    <span class="title function_">toggle</span>(<span class="params">method</span>) &#123;</span><br><span class="line">      $modal.<span class="property">classList</span>[method](<span class="string">&#x27;is-open&#x27;</span>);</span><br><span class="line">      $modalContainer.<span class="property">classList</span>[method](<span class="string">&#x27;background-gray&#x27;</span>);</span><br><span class="line">    &#125;,</span><br><span class="line"></span><br><span class="line"><span class="comment">// 2번</span></span><br><span class="line">    <span class="title function_">toggle</span>(<span class="params"></span>) &#123;</span><br><span class="line">      $modal.<span class="property">classList</span>.<span class="title function_">toggle</span>(<span class="string">&#x27;is-open&#x27;</span>);</span><br><span class="line">      $modalContainer.<span class="property">classList</span>.<span class="title function_">toggle</span>(<span class="string">&#x27;background-gray&#x27;</span>);</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="title function_">remove</span>(<span class="params"></span>) &#123;</span><br><span class="line">      $modal.<span class="property">classList</span>.<span class="title function_">remove</span>(<span class="string">&#x27;is-open&#x27;</span>);</span><br><span class="line">      $modalContainer.<span class="property">classList</span>.<span class="title function_">remove</span>(<span class="string">&#x27;background-gray&#x27;</span>);</span><br><span class="line">    &#125;,</span><br></pre></td></tr></table></figure>

<ul>
<li>처음에 중복을 줄이기 위해 1번으로 구현했었는데, 오히려 직접 사용해보니 2번의 경우가 가독성이 더 낫다고 판단했다. 그 이유는 이벤트 핸들러에서 toggle(‘remove’) 이런식으로 사용하는 것보다 toggle, remove를 사용하는 것이 더 깔끔하기 때문이다.</li>
</ul>
<h2 id="3-이벤트-핸들러-축약표현-알아두기"><a href="#3-이벤트-핸들러-축약표현-알아두기" class="headerlink" title="3. 이벤트 핸들러 축약표현 알아두기"></a>3. 이벤트 핸들러 축약표현 알아두기</h2><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">render</span>(<span class="params">e</span>) &#123;</span><br><span class="line">  e.<span class="title function_">preventDefault</span>();</span><br><span class="line">  $popupMessage.<span class="property">textContent</span> = <span class="string">`from popup : <span class="subst">$&#123;e.target.firstElementChild.value&#125;</span>`</span>;</span><br><span class="line">  popupModal.<span class="title function_">toggle</span>(<span class="string">&#x27;remove&#x27;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;.popup-form&#x27;</span>).<span class="title function_">addEventListener</span>(<span class="string">&#x27;submit&#x27;</span>, render);</span><br></pre></td></tr></table></figure>

<ul>
<li>render 함수를 이벤트 핸들러로 등록할 때, event 객체를 받아서 e.preventDefault() 메서드를 실행하는데, 이벤트 핸들러에서는 인수를 전달해주지 않아도 축약표현으로 인식하여 event 객체를 해당 위치에 전달해준다.</li>
</ul>
<h1 id="stopWatch-리팩터링-중-느낀점"><a href="#stopWatch-리팩터링-중-느낀점" class="headerlink" title="stopWatch 리팩터링 중 느낀점"></a>stopWatch 리팩터링 중 느낀점</h1><h2 id="1-배열-디스트럭처링-사용"><a href="#1-배열-디스트럭처링-사용" class="headerlink" title="1. 배열 디스트럭처링 사용"></a>1. 배열 디스트럭처링 사용</h2><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> [$leftButton, $rightButton] = [...<span class="variable language_">document</span>.<span class="title function_">querySelectorAll</span>(<span class="string">&quot;.control&quot;</span>)];</span><br></pre></td></tr></table></figure>

<ul>
<li>leftButton, rightButton &#x2F; laps, title은 동일한 클래스를 가져 querySelectAll로 불러와서 인덱스 값으로 접근하는 것이 아닌 배열 디스트럭처링 할당으로 식별자를 할당해주었습니다.</li>
</ul>
<h2 id="2-버튼-요소의-textContent-값으로-조건문을-구분하는-것은-좋지-않다"><a href="#2-버튼-요소의-textContent-값으로-조건문을-구분하는-것은-좋지-않다" class="headerlink" title="2. 버튼 요소의 textContent 값으로 조건문을 구분하는 것은 좋지 않다."></a>2. 버튼 요소의 textContent 값으로 조건문을 구분하는 것은 좋지 않다.</h2><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 1번</span></span><br><span class="line"><span class="keyword">if</span> ($leftButton.<span class="property">textContent</span> === <span class="string">&quot;Stop&quot;</span>) &#123;</span><br><span class="line">  ...</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 2번</span></span><br><span class="line"><span class="keyword">let</span> state = &#123;</span><br><span class="line">  <span class="attr">isStarted</span>:<span class="literal">true</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span> (state.<span class="property">isStarted</span>) &#123;</span><br><span class="line">    ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>1번 처럼 textContent로 조건문을 사용하게되면 나중에 textContent를 수정하게되면 유지보수가 어려워지므로 상태로서 관리하는 것을 추천한다.</li>
</ul>
<h2 id="3-함수는-각자의-역할에-맞는-코드를-포함하도록-작성해야한다"><a href="#3-함수는-각자의-역할에-맞는-코드를-포함하도록-작성해야한다" class="headerlink" title="3. 함수는 각자의 역할에 맞는 코드를 포함하도록 작성해야한다."></a>3. 함수는 각자의 역할에 맞는 코드를 포함하도록 작성해야한다.</h2><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="title function_">render</span> = (<span class="params"></span>) =&gt; &#123;</span><br><span class="line">  <span class="keyword">if</span> (state.<span class="property">isStarted</span>) &#123;</span><br><span class="line">    $leftButton.<span class="property">textContent</span> = <span class="string">&quot;Stop&quot;</span>;</span><br><span class="line">    $rightButton.<span class="property">textContent</span> = <span class="string">&quot;Lap&quot;</span>;</span><br><span class="line">    $rightButton.<span class="title function_">removeAttribute</span>(<span class="string">&quot;disabled&quot;</span>);</span><br><span class="line"></span><br><span class="line">    $laps.<span class="property">innerHTML</span> = <span class="string">`Laps</span></span><br><span class="line"><span class="string">      <span class="subst">$&#123;state.laps.map((_, index) =&gt; <span class="string">`&lt;div&gt;<span class="subst">$&#123;index + <span class="number">1</span>&#125;</span>&lt;/div&gt;`</span>).join(<span class="string">&quot;&quot;</span>)&#125;</span></span></span><br><span class="line"><span class="string">      `</span>;</span><br><span class="line">    $time.<span class="property">innerHTML</span> = <span class="string">`Time</span></span><br><span class="line"><span class="string">      <span class="subst">$&#123;state.laps.map((lap) =&gt; <span class="string">`&lt;div&gt;<span class="subst">$&#123;lap&#125;</span>&lt;/div&gt;`</span>).join(<span class="string">&quot;&quot;</span>)&#125;</span></span></span><br><span class="line"><span class="string">      `</span>;</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    $leftButton.<span class="property">textContent</span> = <span class="string">&quot;Start&quot;</span>;</span><br><span class="line">    $rightButton.<span class="property">textContent</span> = <span class="string">&quot;Reset&quot;</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">setState</span> = (<span class="params">newState</span>) =&gt; &#123;</span><br><span class="line">  state = &#123; ...state, ...newState &#125;;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">render</span>();</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">toggleStarted</span> = (<span class="params"></span>) =&gt; &#123;</span><br><span class="line">  <span class="title function_">setState</span>(&#123; <span class="attr">isStarted</span>: !state.<span class="property">isStarted</span> &#125;);</span><br><span class="line"></span><br><span class="line">  <span class="title function_">updateTime</span>();</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">addLap</span> = (<span class="params"></span>) =&gt; &#123;</span><br><span class="line">  <span class="keyword">const</span> newLap = $display.<span class="property">textContent</span>;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">setState</span>(&#123; <span class="attr">laps</span>: [...state.<span class="property">laps</span>, newLap] &#125;);</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<ul>
<li><p>render 함수는 leftButton, rightButton을 클릭했을 때, 화면에 글자가 바꾸는 일을 해준다.</p>
</li>
<li><p>setState 함수는 데이터를 변경하고 그 데이터를 가지고 화면에 render 하는 함수를 호출하는 역할을 한다.</p>
</li>
<li><p>toggleStarted 함수는 isStarted 데이터를 변경시키고 시간을 갱신하는 역할을 한다.</p>
</li>
<li><p>addLap 함수는 $display의 textContent값으로 laps 데이터를 변경시키는 역할을 한다.</p>
</li>
</ul>
<blockquote>
<p>스톱워치에 아직 리팩터링 중인데, 버튼은 2개인데 가정해야할 상황이 4가지여서 어떻게 짜면 좋을지 고민중이다…</p>
</blockquote>

            


        </div>
    </div>
    <div id="post-footer" class="post-footer main-content-wrap">
        
        
            <div class="post-actions-wrap">
    <nav>
        <ul class="post-actions post-action-nav">
            <li class="post-action">
                
                    
                <a
                    class="post-action-btn btn btn--default tooltip--top"
                    href="/2022/09/20/PairProgramming/level%201/toaster,%20autocomplete,%20carousel%20Tip/"
                    data-tooltip="toaster, autocomplete, carousel Tip"
                    aria-label="이전: toaster, autocomplete, carousel Tip"
                >
                    
                        <i class="fa fa-angle-left" aria-hidden="true"></i>
                        <span class="hide-xs hide-sm text-small icon-ml">이전</span>
                    </a>
            </li>
            <li class="post-action">
                
                    
                <a
                    class="post-action-btn btn btn--default tooltip--top"
                    href="/2022/09/16/PairProgramming/level%201/transition%20%EC%9D%B4%EB%B2%A4%ED%8A%B8,%20counter,%20isPalindrome%20Tip/"
                    data-tooltip="transition 이벤트, counter, isPalindrome Tip"
                    aria-label="다음: transition 이벤트, counter, isPalindrome Tip"
                >
                    
                        <span class="hide-xs hide-sm text-small icon-mr">다음</span>
                        <i class="fa fa-angle-right" aria-hidden="true"></i>
                    </a>
            </li>
        </ul>
    </nav>
    <ul class="post-actions post-action-share">
        <li class="post-action hide-lg hide-md hide-sm">
            <a
                class="post-action-btn btn btn--default btn-open-shareoptions"
                href="#btn-open-shareoptions"
                aria-label="이 포스트 공유하기"
            >
                <i class="fa fa-share-alt" aria-hidden="true"></i>
            </a>
        </li>
        
            
            
            <li class="post-action hide-xs">
                <a
                    class="post-action-btn btn btn--default"
                    target="new" href="https://www.facebook.com/sharer/sharer.php?u=https://loco9939.github.io/2022/09/19/PairProgramming/level%201/darkmode,%20modal,%20stopwatch%20Tip/"
                    title="Facebook에 공유하기"
                    aria-label="Facebook에 공유하기"
                >
                    <i class="fab fa-facebook" aria-hidden="true"></i>
                </a>
            </li>
        
            
            
            <li class="post-action hide-xs">
                <a
                    class="post-action-btn btn btn--default"
                    target="new" href="https://twitter.com/intent/tweet?text=https://loco9939.github.io/2022/09/19/PairProgramming/level%201/darkmode,%20modal,%20stopwatch%20Tip/"
                    title="Twitter에 공유하기"
                    aria-label="Twitter에 공유하기"
                >
                    <i class="fab fa-twitter" aria-hidden="true"></i>
                </a>
            </li>
        
            
            
            <li class="post-action hide-xs">
                <a
                    class="post-action-btn btn btn--default"
                    target="new" href="https://plus.google.com/share?url=https://loco9939.github.io/2022/09/19/PairProgramming/level%201/darkmode,%20modal,%20stopwatch%20Tip/"
                    title="Google+에 공유하기"
                    aria-label="Google+에 공유하기"
                >
                    <i class="fab fa-google-plus" aria-hidden="true"></i>
                </a>
            </li>
        
        
            
        
        <li class="post-action">
            
                <a class="post-action-btn btn btn--default" href="#" aria-label="맨 위로">
            
                <i class="fa fa-list" aria-hidden="true"></i>
            </a>
        </li>
    </ul>
</div>


        
        
            
        
    </div>
</article>



                <footer id="footer" class="main-content-wrap">
    <span class="copyrights">
        Copyrights &copy; 2023 loco9939. All Rights Reserved.
    </span>
</footer>

            </div>
            
                <div id="bottom-bar" class="post-bottom-bar" data-behavior="4">
                    <div class="post-actions-wrap">
    <nav>
        <ul class="post-actions post-action-nav">
            <li class="post-action">
                
                    
                <a
                    class="post-action-btn btn btn--default tooltip--top"
                    href="/2022/09/20/PairProgramming/level%201/toaster,%20autocomplete,%20carousel%20Tip/"
                    data-tooltip="toaster, autocomplete, carousel Tip"
                    aria-label="이전: toaster, autocomplete, carousel Tip"
                >
                    
                        <i class="fa fa-angle-left" aria-hidden="true"></i>
                        <span class="hide-xs hide-sm text-small icon-ml">이전</span>
                    </a>
            </li>
            <li class="post-action">
                
                    
                <a
                    class="post-action-btn btn btn--default tooltip--top"
                    href="/2022/09/16/PairProgramming/level%201/transition%20%EC%9D%B4%EB%B2%A4%ED%8A%B8,%20counter,%20isPalindrome%20Tip/"
                    data-tooltip="transition 이벤트, counter, isPalindrome Tip"
                    aria-label="다음: transition 이벤트, counter, isPalindrome Tip"
                >
                    
                        <span class="hide-xs hide-sm text-small icon-mr">다음</span>
                        <i class="fa fa-angle-right" aria-hidden="true"></i>
                    </a>
            </li>
        </ul>
    </nav>
    <ul class="post-actions post-action-share">
        <li class="post-action hide-lg hide-md hide-sm">
            <a
                class="post-action-btn btn btn--default btn-open-shareoptions"
                href="#btn-open-shareoptions"
                aria-label="이 포스트 공유하기"
            >
                <i class="fa fa-share-alt" aria-hidden="true"></i>
            </a>
        </li>
        
            
            
            <li class="post-action hide-xs">
                <a
                    class="post-action-btn btn btn--default"
                    target="new" href="https://www.facebook.com/sharer/sharer.php?u=https://loco9939.github.io/2022/09/19/PairProgramming/level%201/darkmode,%20modal,%20stopwatch%20Tip/"
                    title="Facebook에 공유하기"
                    aria-label="Facebook에 공유하기"
                >
                    <i class="fab fa-facebook" aria-hidden="true"></i>
                </a>
            </li>
        
            
            
            <li class="post-action hide-xs">
                <a
                    class="post-action-btn btn btn--default"
                    target="new" href="https://twitter.com/intent/tweet?text=https://loco9939.github.io/2022/09/19/PairProgramming/level%201/darkmode,%20modal,%20stopwatch%20Tip/"
                    title="Twitter에 공유하기"
                    aria-label="Twitter에 공유하기"
                >
                    <i class="fab fa-twitter" aria-hidden="true"></i>
                </a>
            </li>
        
            
            
            <li class="post-action hide-xs">
                <a
                    class="post-action-btn btn btn--default"
                    target="new" href="https://plus.google.com/share?url=https://loco9939.github.io/2022/09/19/PairProgramming/level%201/darkmode,%20modal,%20stopwatch%20Tip/"
                    title="Google+에 공유하기"
                    aria-label="Google+에 공유하기"
                >
                    <i class="fab fa-google-plus" aria-hidden="true"></i>
                </a>
            </li>
        
        
            
        
        <li class="post-action">
            
                <a class="post-action-btn btn btn--default" href="#" aria-label="맨 위로">
            
                <i class="fa fa-list" aria-hidden="true"></i>
            </a>
        </li>
    </ul>
</div>


                </div>
                
    <div id="share-options-bar" class="share-options-bar" data-behavior="4">
        <i id="btn-close-shareoptions" class="fa fa-times"></i>
        <ul class="share-options">
            
                
                
                <li class="share-option">
                    <a
                        class="share-option-btn"
                        target="new"
                        href="https://www.facebook.com/sharer/sharer.php?u=https://loco9939.github.io/2022/09/19/PairProgramming/level%201/darkmode,%20modal,%20stopwatch%20Tip/"
                        aria-label="Facebook에 공유하기"
                    >
                        <i class="fab fa-facebook" aria-hidden="true"></i><span>Facebook에 공유하기</span>
                    </a>
                </li>
            
                
                
                <li class="share-option">
                    <a
                        class="share-option-btn"
                        target="new"
                        href="https://twitter.com/intent/tweet?text=https://loco9939.github.io/2022/09/19/PairProgramming/level%201/darkmode,%20modal,%20stopwatch%20Tip/"
                        aria-label="Twitter에 공유하기"
                    >
                        <i class="fab fa-twitter" aria-hidden="true"></i><span>Twitter에 공유하기</span>
                    </a>
                </li>
            
                
                
                <li class="share-option">
                    <a
                        class="share-option-btn"
                        target="new"
                        href="https://plus.google.com/share?url=https://loco9939.github.io/2022/09/19/PairProgramming/level%201/darkmode,%20modal,%20stopwatch%20Tip/"
                        aria-label="Google+에 공유하기"
                    >
                        <i class="fab fa-google-plus" aria-hidden="true"></i><span>Google+에 공유하기</span>
                    </a>
                </li>
            
        </ul>
    </div>


            
        </div>
        


<div id="about">
    <div id="about-card">
        <div id="about-btn-close">
            <i class="fa fa-times"></i>
        </div>
        
            <h4 id="about-card-name">loco9939</h4>
        
            <div id="about-card-bio"><p>author.bio</p>
</div>
        
        
            <div id="about-card-job">
                <i class="fa fa-briefcase"></i>
                <br/>
                <p>author.job</p>

            </div>
        
        
    </div>
</div>

        
        
<div id="cover" style="background-image:url('/assets/images/cover.jpg');"></div>
        <!--SCRIPTS-->

<script src="/assets/js/script-wcqoifde3xwnijjx9xd2irfrrksglozwqpgaqfvxoft22e4znrk7db1xxnsx.min.js"></script>

<!--SCRIPTS END-->


    




    </body>
</html>
