
<!DOCTYPE html>
<html lang="ko">
    
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="generator" content="Loco&#39;s Dev Blog">
    <title>아카이브 - Loco&#39;s Dev Blog</title>
    <meta name="author" content="loco9939">
    
        <meta name="keywords" content="loco9939,javascript,">
    
    
    
        
            <link rel="alternate" type="application/atom+xml" title="RSS" href="/atom.xml">
        
    
    <script type="application/ld+json">{}</script>
    <meta property="og:type" content="blog">
<meta property="og:title" content="Loco&#39;s Dev Blog">
<meta property="og:url" content="https://loco9939.github.io/archives/page/4/index.html">
<meta property="og:site_name" content="Loco&#39;s Dev Blog">
<meta property="og:locale" content="ko_KR">
<meta property="article:author" content="loco9939">
<meta property="article:tag" content="loco9939">
<meta property="article:tag" content="javascript">
<meta name="twitter:card" content="summary">
    
    
        
    
    
    
    
    
    <!--STYLES-->
    
<link rel="stylesheet" href="/assets/css/style-alaac2o0p8lb5n7mx8aazw1dzhwcsltexgjtf9twurzytkujqiefoq1soijy.min.css">

    <!--STYLES END-->
    

    

    
</head>

    <body>
        <div id="blog">
            <!-- Define author's picture -->


    

<header id="header" data-behavior="1">
    <i id="btn-open-sidebar" class="fa fa-lg fa-bars"></i>
    <div class="header-title">
        <a
            class="header-title-link"
            href="/"
            aria-label=""
        >
            Loco&#39;s Dev Blog
        </a>
    </div>
    
        
            <a
                class="header-right-picture "
                href="#about"
                aria-label="링크 열기: /#about"
            >
        
        
        </a>
    
</header>

            <!-- Define author's picture -->


<nav id="sidebar" data-behavior="1">
    <div class="sidebar-container">
        
        
            <ul class="sidebar-buttons">
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="/"
                            
                            rel="noopener"
                            title="Home"
                        >
                        <i class="sidebar-button-icon fa fa-home" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Home</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="/all-categories"
                            
                            rel="noopener"
                            title="카테고리"
                        >
                        <i class="sidebar-button-icon fa fa-bookmark" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">카테고리</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="/all-tags"
                            
                            rel="noopener"
                            title="태그"
                        >
                        <i class="sidebar-button-icon fa fa-tags" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">태그</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="/all-archives"
                            
                            rel="noopener"
                            title="아카이브"
                        >
                        <i class="sidebar-button-icon fa fa-archive" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">아카이브</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link open-algolia-search"
                            href="#search"
                            
                            rel="noopener"
                            title="검색"
                        >
                        <i class="sidebar-button-icon fa fa-search" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">검색</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="#about"
                            
                            rel="noopener"
                            title="About"
                        >
                        <i class="sidebar-button-icon fa fa-question" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">About</span>
                    </a>
            </li>
            
        </ul>
        
            <ul class="sidebar-buttons">
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="https://github.com/"
                            
                                target="_blank"
                            
                            rel="noopener"
                            title="GitHub"
                        >
                        <i class="sidebar-button-icon fab fa-github" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">GitHub</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="http://stackoverflow.com/users"
                            
                                target="_blank"
                            
                            rel="noopener"
                            title="Stack Overflow"
                        >
                        <i class="sidebar-button-icon fab fa-stack-overflow" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Stack Overflow</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="https://twitter.com/"
                            
                                target="_blank"
                            
                            rel="noopener"
                            title="Twitter"
                        >
                        <i class="sidebar-button-icon fab fa-twitter" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Twitter</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="https://facebook.com/"
                            
                                target="_blank"
                            
                            rel="noopener"
                            title="Facebook"
                        >
                        <i class="sidebar-button-icon fab fa-facebook" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Facebook</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="https://plus.google.com/"
                            
                                target="_blank"
                            
                            rel="noopener"
                            title="Google +"
                        >
                        <i class="sidebar-button-icon fab fa-google-plus" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Google +</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="https://www.linkedin.com/profile/"
                            
                                target="_blank"
                            
                            rel="noopener"
                            title="LinkedIn"
                        >
                        <i class="sidebar-button-icon fab fa-linkedin" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">LinkedIn</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="/mailto"
                            
                            rel="noopener"
                            title="Mail"
                        >
                        <i class="sidebar-button-icon fa fa-envelope" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Mail</span>
                    </a>
            </li>
            
        </ul>
        
            <ul class="sidebar-buttons">
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="/atom.xml"
                            
                            rel="noopener"
                            title="RSS"
                        >
                        <i class="sidebar-button-icon fa fa-rss" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">RSS</span>
                    </a>
            </li>
            
        </ul>
        
    </div>
</nav>

            
            <div id="main" data-behavior="1"
                 class="
                        hasCoverMetaIn
                        ">
                
    <section class="postShorten-group main-content-wrap">
    
    
    <article class="postShorten postShorten--thumbnailimg-bottom">
        <div class="postShorten-wrap">
            
            <div class="postShorten-header">
                <h1 class="postShorten-title">
                    
                        <a
                            class="link-unstyled"
                            href="/2022/11/10/React/Hooks/%F0%9F%90%8D-setState/"
                            aria-label=": 🐍 setState"
                        >
                            🐍 setState
                        </a>
                    
                </h1>
                <div class="postShorten-meta">
    <time datetime="2022-11-10T20:16:29+09:00">
	
		    2022/11/10
    	
    </time>
    
        <span>카테고리 </span>
        
    <a class="category-link" href="/categories/React/">React</a>, <a class="category-link" href="/categories/React/Hooks/">Hooks</a>


    
</div>

            </div>
            
                <div class="postShorten-content">
                    <span id="more"></span>

<h1 id="📌-setState"><a href="#📌-setState" class="headerlink" title="📌 setState"></a>📌 setState</h1><p><code>setState()</code> 메서드는 컴포넌트의 state 객체에 대한 업데이트를 실행합니다. state가 변경되면, 컴포넌트는 리렌더링됩니다.</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">setState</span>(updater[, callback])</span><br></pre></td></tr></table></figure>

<p>updater에 컴포넌트의 state 변경사항을 인자로 넘겨주고 React에게 해당 컴포넌트를 재렌더링해야한다고 요청을 보내는 메서드이다.</p>
<ul>
<li><code>setState()</code> 호출은 비동기적으로 이뤄진다.</li>
<li>성능 향상을 위해 <red>즉각적으로 재렌더링을 발생시키지 않는다.</red><ul>
<li>여러 변경 사항을 일괄적으로 갱신하거나 나중에 미룰 수 있다. 때문에 <code>setState()</code> 호출하자마자 <code>this.state</code>에 접근하는 것은 문제가 될 수 있다.</li>
<li>대신 <code>componentDidUpdate()</code> 또는 <code>setState(updater, callback)</code>처럼 2번째 인자로 콜백함수를 전달하는 방법을 사용한다.</li>
</ul>
</li>
</ul>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">this</span>.<span class="property">state</span> = &#123;</span><br><span class="line">  <span class="attr">message</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">this</span>.<span class="title function_">setState</span>(</span><br><span class="line">  &#123; <span class="attr">message</span>: <span class="string">&quot;상태 변경&quot;</span> &#125;,</span><br><span class="line">  <span class="function">() =&gt;</span> <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;callback: &quot;</span>, <span class="variable language_">this</span>.<span class="property">state</span>.<span class="property">message</span>) <span class="comment">// &#x27;상태 변경&#x27;</span></span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">state</span>.<span class="property">message</span>); <span class="comment">// &#x27;&#x27;</span></span><br></pre></td></tr></table></figure>

<ul>
<li>아직 렌더링이 발생하지 않았기 때문에 <code>this.state.message</code>의 값이 갱신되지 않았다.</li>
</ul>
<h1 id="🎒-2022-11-12-추가"><a href="#🎒-2022-11-12-추가" class="headerlink" title="🎒 2022.11.12 추가"></a>🎒 2022.11.12 추가</h1><h2 id="setState-첫번째-인수로-콜백함수-올-때"><a href="#setState-첫번째-인수로-콜백함수-올-때" class="headerlink" title="setState() 첫번째 인수로 콜백함수 올 때"></a><code>setState()</code> 첫번째 인수로 콜백함수 올 때</h2><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">class</span> <span class="title class_">BinaryCalcurator</span> <span class="keyword">extends</span> <span class="title class_ inherited__">Component</span> &#123;</span><br><span class="line">  state = &#123;</span><br><span class="line">    <span class="attr">buttonStates</span>: <span class="title class_">Array</span>(<span class="variable language_">this</span>.<span class="property">props</span>.<span class="property">numberOfButtons</span>).<span class="title function_">fill</span>(<span class="literal">false</span>),</span><br><span class="line">  &#125;;</span><br><span class="line"></span><br><span class="line">  handleToggleButtonContent = <span class="function">(<span class="params">index</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="title function_">setState</span>(<span class="function">(<span class="params">&#123; buttonStates &#125;</span>) =&gt;</span> (&#123;</span><br><span class="line">      <span class="attr">buttonStates</span>: buttonStates.<span class="title function_">map</span>(<span class="function">(<span class="params">buttonState, idx</span>) =&gt;</span></span><br><span class="line">        idx === index ? !buttonState : buttonState</span><br><span class="line">      ),</span><br><span class="line">    &#125;));</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>콜백함수는 이전 상태를 받아서 상태 변경을 요청한다.</li>
</ul>

                    
                        


                    
                    
                        <p>
                            <a
                                href="/2022/11/10/React/Hooks/%F0%9F%90%8D-setState/#post-footer"
                                class="postShorten-excerpt_link link"
                                aria-label=""
                            >
                                댓글 공유
                            </a>
                        </p>
                    
                </div>
            
        </div>
        
    </article>
    
    
    <article class="postShorten postShorten--thumbnailimg-bottom">
        <div class="postShorten-wrap">
            
            <div class="postShorten-header">
                <h1 class="postShorten-title">
                    
                        <a
                            class="link-unstyled"
                            href="/2022/11/10/CS/%F0%9F%8D%AA-Cookie/"
                            aria-label=": 🍪 Cookie"
                        >
                            🍪 Cookie
                        </a>
                    
                </h1>
                <div class="postShorten-meta">
    <time datetime="2022-11-10T10:36:29+09:00">
	
		    2022/11/10
    	
    </time>
    
        <span>카테고리 </span>
        
    <a class="category-link" href="/categories/CS/">CS</a>


    
</div>

            </div>
            
                <div class="postShorten-content">
                    <h1 id="📌-Cookie란"><a href="#📌-Cookie란" class="headerlink" title="📌 Cookie란?"></a>📌 Cookie란?</h1><p>서버가 클라이언트에게 전송하는 데이터이다. 서버가 HTTP Response Header의 Set-Cookie에 내용을 넣어 전달하면 브라우저가 이 내용을 자체적으로 브라우저에 저장한다.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- Reponse Header --&gt;</span><br><span class="line">HTTP/2.0 200 OK</span><br><span class="line">Content-Type: text/html</span><br><span class="line">Set-Cookies: &lt;cookie-name&gt;=&lt;cookie-value&gt;</span><br><span class="line"></span><br><span class="line">// Page Content...</span><br></pre></td></tr></table></figure>

<ul>
<li>쿠키는 key,value를 쌍으로 브라우저에 문자열로 저장된다.</li>
<li>주로 만료 기간을 설정하거나 자동으로 서버로 전송되어야할 작은 용량의 정보를 담는다.<ul>
<li>Ex) n일 동안 보지 않기, 비로그인 장바구니 기능</li>
</ul>
</li>
<li>쿠키는 주로 <strong>인증</strong>을 위해 사용된다.</li>
<li>쿠키는 세션쿠키와 퍼머넌트 쿠키가 있다.</li>
</ul>
<h2 id="🐶-Session-Cookie"><a href="#🐶-Session-Cookie" class="headerlink" title="🐶 Session Cookie"></a>🐶 Session Cookie</h2><p>세션 쿠키는 클라이언트가 셧다운 되면 사라지는 쿠키이다. 왜냐하면 Expires, Max-Age를 지정해주지 않았기 때문이다.</p>
<p><code>일부 브라우저는 Session Resorting을 사용하여 세션쿠키를 영구적으로 만들 수 있다.</code></p>
<ul>
<li>Expires, Max-Age 설정으로 만료 기한을 정해주지 않은 쿠키</li>
</ul>
<h2 id="🐸-Permanent-Cookie"><a href="#🐸-Permanent-Cookie" class="headerlink" title="🐸 Permanent Cookie"></a>🐸 Permanent Cookie</h2><p>클라이언트가 브라우저를 열고 닫거나 새로고침을 하여도 쿠키의 데이터가 보존되는 쿠키이다. Set-Cookie에 몇가지 조건을 추가하여 Permanent Cookie를 설정할 수 있다.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Set-Cookie: id=a3fWa; Expires=Thu, 10 Nov 2022 15:30:00 GMT;</span><br></pre></td></tr></table></figure>

<ul>
<li>만료시간은 클라이언트 시간을 따른다. (서버시간과 상이할 수 있다.)</li>
</ul>
<h2 id="✏️-쿠키-접근"><a href="#✏️-쿠키-접근" class="headerlink" title="✏️ 쿠키 접근"></a>✏️ 쿠키 접근</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">document</span>.<span class="property">cookie</span> = <span class="string">&quot;yummy_cookie=choco&quot;</span>;</span><br><span class="line"><span class="variable language_">document</span>.<span class="property">cookie</span> = <span class="string">&quot;tasty_cookie=strawberry&quot;</span>;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">document</span>.<span class="property">cookie</span>);</span><br><span class="line"><span class="comment">// logs &quot;yummy_cookie=choco; tasty_cookie=strawberry&quot;</span></span><br></pre></td></tr></table></figure>

<h2 id="🔨-쿠키-보안"><a href="#🔨-쿠키-보안" class="headerlink" title="🔨 쿠키 보안"></a>🔨 쿠키 보안</h2><p>🙅‍♂️ 민감한 정보는 HTTP 쿠키 내에 저장하면 안된다.</p>
<h3 id="🪜-HttpOnly-Cookie"><a href="#🪜-HttpOnly-Cookie" class="headerlink" title="🪜 HttpOnly Cookie"></a>🪜 HttpOnly Cookie</h3><p>XSS 공격으로부터 사용자의 쿠키 정보가 유출되는 것을 방지하기 위해 등장하였다.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Set-Cookie: id=a3fWa; Expires=Thu, 10 Nov 2022 15:30:00 GMT; HttpOnly</span><br></pre></td></tr></table></figure>

<ul>
<li>document.cookie API로 접근할 수 없다.</li>
</ul>
<h3 id="🔒-Secure-Cookie"><a href="#🔒-Secure-Cookie" class="headerlink" title="🔒 Secure Cookie"></a>🔒 Secure Cookie</h3><p>HTTPS 전송을 보증해주는 역할을 하는 쿠키이다. Secure로 설정된 쿠키는 안전한 전송 프로토콜에만 쿠키 정보를 서버로 보낸다.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Set-Cookie: id=a3fWa; Expires=Thu, 10 Nov 2022 15:30:00 GMT; Secure; HttpOnly</span><br></pre></td></tr></table></figure>

<h3 id="👿-Cross-site-요청-위조-CSRF-공격"><a href="#👿-Cross-site-요청-위조-CSRF-공격" class="headerlink" title="👿 Cross-site 요청 위조(CSRF) 공격"></a>👿 Cross-site 요청 위조(CSRF) 공격</h3><p>현재 사용자가 은행 사이트에 로그인 되어있다. 송금과 같은 은행 업무를 보고 로그아웃 하지 않고 새 탭을 열어 어떤 사이트를 열었다. 그런데 이 사이트에는 해커에게 송금을 요청하는 form이 있고 이 form은 자동으로 제출되도록 설정되었다.</p>
<p>form이 해당 사이트를 거쳐 은행 사이트로 전송될 때 인증 쿠키도 함께 전송된다. 은행은 사용자로 착각하여 해커에게 돈을 송금하는 일이 발생한다.</p>
<p>⇒ 이런 공격을 <strong>크로스 사이트 요청 위조</strong> 라고 부른다.</p>
<p>🚪 <strong>방어 방법</strong></p>
<ul>
<li>XSRF 토큰이라는 특수 필드 넣어줘야한다.</li>
<li>민감한 동작에 필수로 요구되는 확인 절차가 항상 수행하도록 한다.</li>
<li>민감한 동작에 사용되는 쿠키는 짧은 수명만 갖도록 한다.</li>
</ul>

                    
                        


                    
                    
                        <p>
                            <a
                                href="/2022/11/10/CS/%F0%9F%8D%AA-Cookie/#post-footer"
                                class="postShorten-excerpt_link link"
                                aria-label=""
                            >
                                댓글 공유
                            </a>
                        </p>
                    
                </div>
            
        </div>
        
    </article>
    
    
    <article class="postShorten postShorten--thumbnailimg-bottom">
        <div class="postShorten-wrap">
            
            <div class="postShorten-header">
                <h1 class="postShorten-title">
                    
                        <a
                            class="link-unstyled"
                            href="/2022/11/09/CS/HTTP-%EC%9A%94%EC%B2%AD-%EB%A9%94%EC%84%9C%EB%93%9C-GET-vs-POST/"
                            aria-label=": HTTP 요청 메서드 GET vs POST"
                        >
                            HTTP 요청 메서드 GET vs POST
                        </a>
                    
                </h1>
                <div class="postShorten-meta">
    <time datetime="2022-11-09T17:50:27+09:00">
	
		    2022/11/09
    	
    </time>
    
        <span>카테고리 </span>
        
    <a class="category-link" href="/categories/CS/">CS</a>


    
</div>

            </div>
            
                <div class="postShorten-content">
                    <h1 id="📌-GET"><a href="#📌-GET" class="headerlink" title="📌 GET"></a>📌 GET</h1><p>GET 방식은 전송 URL에 입력 데이터를 쿼리 스트링으로 보내는 방식<br>ex) <a target="_blank" rel="noopener" href="http://jsonplaceholder.typicode.com/posts?userId=1&amp;id=1">http://jsonplaceholder.typicode.com/posts?userId=1&amp;id=1</a></p>
<ul>
<li>전송 URL 바로 뒤에 ?를 통해 데이터의 시작을 알려주고, Key-value 형태의 데이터 추가한다.</li>
<li>캐시가 가능하다.</li>
<li>1개 이상의 전송 데이터는 &amp;로 구분한다.</li>
<li><strong>URL에 전송 데이터가 모두 노출되어 보안에 문제가 있어 민감한 정보는 사용하지 않는다. 전송할 수 있는 데이터의 한계가 있다. (최대 255자)</strong></li>
<li>REST API에서 GET 메소드는 모든 또는 특정 리소스의 조회를 요청한다.<br>⇒ <red>GET 요청 보내면 ~ 이거이거 조회할게요~</red></li>
</ul>
<h1 id="📌-POST"><a href="#📌-POST" class="headerlink" title="📌 POST"></a>📌 POST</h1><p>POST 방식은 사용자의 요청을 <strong>Request Body에 담아 보내는 방식</strong><br>ex) <a target="_blank" rel="noopener" href="http://jsonplaceholder.typicode.com/posts">http://jsonplaceholder.typicode.com/posts</a></p>
<ul>
<li>URL에 전송 데이터가 모두 노출되지 않지만 GET에 비해 속도가 느리다.</li>
<li>캐시가 불가능하다.</li>
<li>데이터 길이와 타입의 제한이 없다.</li>
<li>REST API에서 POST 메소드는 특정 리소스의 생성을 요청한다.<br>⇒ <red>POST 요청 보내면 ~ 이거 생성해주세요~</red></li>
</ul>

                    
                        


                    
                    
                        <p>
                            <a
                                href="/2022/11/09/CS/HTTP-%EC%9A%94%EC%B2%AD-%EB%A9%94%EC%84%9C%EB%93%9C-GET-vs-POST/#post-footer"
                                class="postShorten-excerpt_link link"
                                aria-label=""
                            >
                                댓글 공유
                            </a>
                        </p>
                    
                </div>
            
        </div>
        
    </article>
    
    
    <article class="postShorten postShorten--thumbnailimg-bottom">
        <div class="postShorten-wrap">
            
            <div class="postShorten-header">
                <h1 class="postShorten-title">
                    
                        <a
                            class="link-unstyled"
                            href="/2022/11/09/CS/HTTP%EC%9D%98-%EC%97%AD%EC%82%AC%EC%99%80-HTTPS/"
                            aria-label=": HTTP의 역사와 HTTPS"
                        >
                            HTTP의 역사와 HTTPS
                        </a>
                    
                </h1>
                <div class="postShorten-meta">
    <time datetime="2022-11-09T17:01:41+09:00">
	
		    2022/11/09
    	
    </time>
    
        <span>카테고리 </span>
        
    <a class="category-link" href="/categories/CS/">CS</a>


    
</div>

            </div>
            
                <div class="postShorten-content">
                    <h1 id="📌-HTTP"><a href="#📌-HTTP" class="headerlink" title="📌 HTTP"></a>📌 HTTP</h1><p><strong>서버&#x2F;클라이언트 모델을 따라 데이터를 주고받기 위한 프로토콜</strong>이다.</p>
<p>일반적으로 프로토콜을 이용하여 HTML 파일을 주고받을 수 있는 공간을 의미한다.</p>
<ul>
<li>텍스트 교환으로 보안에 취약하다.</li>
</ul>
<h2 id="역사"><a href="#역사" class="headerlink" title="역사"></a>역사</h2><p>초기 웹 페이지는 단순한 서버-클라이언트의 구조를 따랐다. 처음부터 TCP &#x2F; IP 위에서 구현되도록 설계되었다. 지금의 TCP는 무겁고 느리다고 까이지만, 이 당시에는 연결 지향적 특성 때문에 안정적이고 신뢰성있는 통신을 제공하여 평이 좋았다.</p>
<p>초기 HTTP 구조는 매우 간단했다. 요청 메서드도 GET 한가지였고, 헤더나 상태 코드도 없었고 응답은 무조건 HTML 파일 그 자체였다.</p>
<p>하지만 웹이 인기를 끌다 보니 기존 HTTP 사양만으로는 사용자들의 요구사항을 충족시킬 수 없었고 <strong>명시적으로 약속된 사양이 없어</strong> 여러 브라우저들 간의 혼란이 있어서 HTTP 기본 구조를 그대로 유지하면서 <strong>HTTP를 표준화</strong>하기 위해 HTTP WG 조직이 탄생하고 이 때 <strong>HTTP&#x2F;1.0이 탄생</strong>하게되었다.</p>
<h1 id="📌-HTTP-x2F-1-0"><a href="#📌-HTTP-x2F-1-0" class="headerlink" title="📌 HTTP&#x2F;1.0"></a>📌 HTTP&#x2F;1.0</h1><ul>
<li>HTTP Header에 버전정보 명시되어있다.</li>
<li>요청 메서드 GET, POST, HEAD 3가지</li>
<li>상태 코드 추가 되어 클라이언트 측에서 요청 결과에 따라 동작하도록 설계 가능</li>
<li><strong>Content-type의 도움으로 HTML 이외의 파일도 전송</strong>할 수 있게되었다.</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- 요청 --&gt;</span><br><span class="line">GET /mypage.html HTTP/1.0</span><br><span class="line">User-Agent: ...</span><br><span class="line"></span><br><span class="line">&lt;!-- 응답 --&gt;</span><br><span class="line">200 OK</span><br><span class="line">...</span><br><span class="line">Content-Type: text/html</span><br><span class="line">&lt;HTML&gt;</span><br><span class="line">  A page with on image</span><br><span class="line">  &lt;img src=&quot;/myimage.jpg&quot; /&gt;</span><br><span class="line">&lt;/HTML&gt;</span><br></pre></td></tr></table></figure>

<ul>
<li>HTTP&#x2F;1.0의 간단한 요청과 응답 예시이다.</li>
</ul>
<h1 id="📌-HTTP-x2F-1-1"><a href="#📌-HTTP-x2F-1-1" class="headerlink" title="📌 HTTP&#x2F;1.1"></a>📌 HTTP&#x2F;1.1</h1><h2 id="❓-HTTP-x2F-1-0의-문제"><a href="#❓-HTTP-x2F-1-0의-문제" class="headerlink" title="❓ HTTP&#x2F;1.0의 문제"></a>❓ <strong>HTTP&#x2F;1.0의 문제</strong></h2><ul>
<li>HTTP&#x2F;1.0에서는 요청에 따른 응답이 수신되면 TCP 연결 바로 종료<ul>
<li>웹 페이지가 복잡해짐에 따라 이러한 TCP 핸드쉐이크 과정을 새로 거쳐야 하여 속도가 느려지는 문제가 있었다.</li>
</ul>
</li>
<li>1개의 요청을 보내면 1개의 응답을 받고 1번의 연결이 종료된다. 만약 10번의 요청을 보내면 TCP 연결을 10번 해야하므로 서버에 부담이 된다.</li>
</ul>
<h2 id="❗️-문제-해결책"><a href="#❗️-문제-해결책" class="headerlink" title="❗️ 문제 해결책"></a>❗️ 문제 해결책</h2><p><img src="/../../images/HTTP/pipe.png" alt="pipe"></p>
<ul>
<li><strong>연결 상태 유지(Persistent connection)</strong> : 기본적으로 한번 수립한 연결을 재사용 할 수 있도록 설정<ul>
<li>지정한 시간동안 연결을 끊지 않는 방식</li>
<li>연결 유지 시간 길어지면 서버 부하 🔺</li>
</ul>
</li>
<li><strong>Pipelining(파이프라이닝)</strong> : 클라이언트가 여러 요청 연달아 보내야할 때, 먼저 보낸 요청의 응답을 기다리는 것이 아니라 <strong>발생한 요청은 일단 전송하는 방식</strong><ul>
<li>클라이언트에서 여러 요청을 순차적으로 보내면 <strong>서버는 받은 순서에 따라 응답을 제공한다.</strong></li>
</ul>
</li>
</ul>
<h1 id="📌-HTTP-x2F-2"><a href="#📌-HTTP-x2F-2" class="headerlink" title="📌 HTTP&#x2F;2"></a>📌 HTTP&#x2F;2</h1><h2 id="❓-HTTP-x2F-1-1의-문제"><a href="#❓-HTTP-x2F-1-1의-문제" class="headerlink" title="❓ HTTP&#x2F;1.1의 문제"></a>❓ <strong>HTTP&#x2F;1.1의 문제</strong></h2><ul>
<li>매 요청마다 <strong>헤더를 중복</strong>해서 전송해야만 하는데 이것이 굉장한 낭비였다.</li>
<li>서버가 항상 요청받은 순서대로 응답해야하므로 <strong>HOLB(Head-of-Line Blocking)</strong> 방식이었다.</li>
<li>하나의 연결 내에서 응답 다중화(multiplexing)을 할 수 없어 요청이 순차적으로 처리되어야 했는데, <strong>서버가 응답 작성 중간에 문제가 생기면 후속 요청들이 전송되지 못하고 지연되는 문제가 있었다.</strong></li>
</ul>
<h2 id="❗️-문제-해결책-1"><a href="#❗️-문제-해결책-1" class="headerlink" title="❗️ 문제 해결책"></a>❗️ 문제 해결책</h2><p><img src="/../../images/HTTP/SPDY.png" alt="spdy"></p>
<ul>
<li>SPDY 프로토콜 기반으로 동작 ⇒ <red>웹 페이지 로드 시간 단축</red><ul>
<li>이진 프로토콜 : 단순 텍스트를 전송하는 것보다 컴퓨터 입장에서 훨씬 더 효율적으로 데이터 전송 가능</li>
</ul>
</li>
</ul>
<p><img src="/../../images/HTTP/multiplexing.png" alt="mutiplexing"></p>
<ul>
<li>응답 다중화 지원 : 하나의 TCP 연결에서 여러 요청을 동시에 처리할 수 있다. 바이너리 프레이밍으로 TCP 연결을 스트림, 메시지, 프레임으로 세분화하였다. <red>이는 요청 별 순서를 반드시 지켜야 했던 HTTP&#x2F;1.1과 대조적이다.</red><ul>
<li>스트림 : 요청과 응답이 양방향으로 오가는 연결 단위</li>
<li>메시지 : 하나의 요청과 응답을 구성하는 단위</li>
<li>프레임 : 메시지를 구성하는 최소 단위</li>
</ul>
</li>
</ul>
<p><img src="/../../images/HTTP/multiplexing2.png" alt="mutiplexing2"></p>
<ul>
<li>위 사진에서 하나의 TCP 연결에서 3개의 스트림이 존재한다.</li>
<li>5번 스트림은 클라이언트 측에서 서버로 데이터 전송하고, 1,3번 스트림은 서버 측에서 클라이언트로 데이터를 전송중이다.</li>
<li>1번 프레임 사이에 3번 스트림의 프레임이 끼워져있다.</li>
</ul>
<p>이로써 HTTP&#x2F;1.1에서 발생한 <strong>HOLB 문제 해결할 수 있었다.</strong></p>
<p><img src="/../../images/HTTP/headerCompressing.png" alt="headerCompressing"></p>
<ul>
<li>헤더 필드 압축 지원 : 달라진 부분만 다시 전송하는 코딩 기법 사용</li>
</ul>
<h1 id="📌-HTTP-x2F-3"><a href="#📌-HTTP-x2F-3" class="headerlink" title="📌 HTTP&#x2F;3"></a>📌 HTTP&#x2F;3</h1><h2 id="❗️-TCP로-인한-문제점"><a href="#❗️-TCP로-인한-문제점" class="headerlink" title="❗️ TCP로 인한 문제점"></a>❗️ <strong>TCP로 인한 문제점</strong></h2><p>앞서 헤더 필드 압축을 통해 HTTP&#x2F;1.1에서 발생한 HOLB 문제를 해결했다고 하였지만 이와 별개로 <red>TCP로 인해 발생하는 HOLB 문제는 해결할 수 없다는 한계가 있었다.</red></p>
<ul>
<li>신뢰성 지향하기에 데이터 손실 발생 시 데이터를 재전송하는데 순서대로 처리해야하기 때문에 HOLB 문제를 해결할 수 없다.</li>
<li>혼잡제어를 수행하기 때문에 전송 속도를 낮은 상태에서 높이는 방식으로 속도 제어를 하는데 이는 네트워크 상황이 좋을 때 불필요한 지연을 발생시킨다.</li>
</ul>
<p>문제를 해결하기 위해 TCP&#x2F;IP기반이 아닌 <red>UDP기반인 QUIC 프로토콜 위에서 동작하는 HTTP&#x2F;3</red>가 나왔다.</p>
<p>⇒ UDP는 신뢰성을 보장하지 않는데 <strong>QUIC 신뢰성 기능을 직접 구현하여 신뢰성 기능이 제공되는 UDP 기반의 프로토콜</strong>이다.</p>
<h2 id="👍-HTTP-x2F-3-장점"><a href="#👍-HTTP-x2F-3-장점" class="headerlink" title="👍 HTTP&#x2F;3 장점"></a>👍 HTTP&#x2F;3 장점</h2><p><img src="/../../images/HTTP/RTT.png" alt="RTT"></p>
<ul>
<li><strong>0-RTT 기능</strong> : 연결 정보를 캐싱하여 재사용하여 다음 연결때는 바로 연결이 가능</li>
</ul>
<p><img src="/../../images/HTTP/UDP.png" alt="UDP"></p>
<ul>
<li><strong>연결 다중화 지원</strong> : 각 스트림이 독립적으로 동작한다.<ul>
<li>HTTP&#x2F;2 방식의 경우 TCP 특성상 데이터 손실이 발생할 경우 <strong>데이터 복구를 우선 처리하여 HOLB가 발생</strong>한다.</li>
<li>HTTP&#x2F;3는 데이터 손실이 발생해도 연결 내 스트림이 독립적으로 동작하기 때문에 <red>다른 스트림에 영향을 주지 않는다.</red></li>
</ul>
</li>
<li><strong>연결 별 고유 UUID 지원</strong><ul>
<li>TCP 기반의 통신은 wifi 환경에서 셀룰러 환경으로 이동하는경우 IP주소가 변경되어 연결 재수립 과정을 거쳐야하지만, QUIC는 UUID(Connection ID) 연결 ID 기반으로 식별하여 연결을 유지할 수 있다.</li>
</ul>
</li>
</ul>
<h1 id="📌-HTTP-Message"><a href="#📌-HTTP-Message" class="headerlink" title="📌 HTTP Message"></a>📌 HTTP Message</h1><p>HTTP 메시지는 서버와 클라이언트 간에 데이터가 교환되는 방식이다. 메시지 타입에는 <strong>요청(Request), 응답(Response)이 있다.</strong></p>
<p><img src="/../../images/HTTP/httpmsgstructure2.png" alt="request와response"></p>
<p>요청과 응답의 구조는 유사하다.</p>
<ol>
<li><p>실행 되어야 할 요청 또는 요청의 성공, 실패가 기록된 한줄</p>
</li>
<li><p>요청에 대한 설명, 메시지 본문에 대한 설명이 포함된 <strong>HTTP Header 세트</strong>(optional)</p>
</li>
<li><p>요청에 대한 모든 메타 정보가 전송되었음을 알리는 빈 줄(blank line)</p>
</li>
<li><p>요청과 관련된 내용이 옵션으로 들어가거나, 응답과 관련된 문서가 들어간다. 본문의 존재 유무는 첫 줄과 HTTP Header에 명시된다.</p>
</li>
</ol>
<h2 id="✏️-HTTP-Request"><a href="#✏️-HTTP-Request" class="headerlink" title="✏️ HTTP Request"></a>✏️ HTTP Request</h2><p>요청은 클라이언트가 서버로 전달해서 서버의 액션이 일어나게끔 하는 메시지이다.</p>
<h3 id="1-Start-Line"><a href="#1-Start-Line" class="headerlink" title="1. Start Line"></a>1. Start Line</h3><ol>
<li>HTTP 메서드</li>
</ol>
<p>GET,POST 등의 서버가 수행해야 할 동작을 나타낸다.</p>
<ol start="2">
<li>요청 타겟 : URL 또는 (프로토콜,포트, 도메인)</li>
</ol>
<p>요청 타겟 포맷은 HTTP 메서드에 따라 달라진다.</p>
<ul>
<li>Origin 형식 : 끝에 ‘?’와 쿼리 문자열이 붙는 절대경로이다. 가장 일반적인 형식으로 GET, POST, HEAD, OPTIONS 메서드와 함께 사용한다.</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">POST / HTTP 1.1</span><br><span class="line">GET /background.png HTTP/1.0</span><br><span class="line">HEAD /test.html?query=alibaba HTTP/1.1</span><br><span class="line">OPTIONS /anypage.html HTTP/1.0</span><br></pre></td></tr></table></figure>

<ul>
<li>absolute 형식 : 완전한 URL 형식으로, 프록시에 연결하는 경우 대부분 GET과 사용한다.</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">GET http://developer.mozilla.org/en-US/docs/Web/HTTP/Messages HTTP/1.1</span><br></pre></td></tr></table></figure>

<ol start="3">
<li>마지막으로 HTTP 버전이 들어간다.</li>
</ol>
<h3 id="2-Header"><a href="#2-Header" class="headerlink" title="2. Header"></a><strong>2. Header</strong></h3><p>대소문자 구분없는 문자열 다음에 콜론(:)이 붙고 그 뒤에 오는 값은 Header에 따라 달라진다.</p>
<p><img src="/../../images/HTTP/http_request_headers3.png" alt="header"></p>
<ul>
<li>HTTP Method</li>
<li>HTTP Version</li>
<li>Host</li>
<li>Content-Type</li>
</ul>
<h3 id="3-Body-본문"><a href="#3-Body-본문" class="headerlink" title="3. Body(본문)"></a>3. Body(본문)</h3><p>모든 요청에 본문이 들어가지 않는다. GET, HEAD, DELETE, OPTIONS 처럼 리소스를 가져오는 요청은 본문이 필요 없다.</p>
<p>보통 POST 요청으로 서버에 데이터를 업데이트 하기 위해 본문이 필요하다.</p>
<p>본문은 두가지 종류로 나뉜다.</p>
<ul>
<li>단일-리소스 본문(single-resource bodies) : Header 2개(Content-Type, Content-Length)로 정의된 단일 파일</li>
<li>다중-리소스 본문(muliple-resource bodies) : 파트마다 다른 정보를 지닌다.</li>
</ul>
<h2 id="✏️-HTTP-Response"><a href="#✏️-HTTP-Response" class="headerlink" title="✏️ HTTP Response"></a>✏️ HTTP Response</h2><p>응답은 요청에 대한 서버의 답변이다.</p>
<h3 id="1-Start-Line-1"><a href="#1-Start-Line-1" class="headerlink" title="1. Start Line"></a>1. Start Line</h3><ol>
<li><p>프로토콜 버전 (보통 HTTP&#x2F;1.1)</p>
</li>
<li><p>상태 코드 : 요청의 성공 여부를 나타낸다. 200, 404 또는 302</p>
</li>
<li><p>상태 텍스트 : 상태 코드에 대한 설명글</p>
</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">HTTP/1.1 404 Not Found.</span><br></pre></td></tr></table></figure>

<h3 id="2-Header-1"><a href="#2-Header-1" class="headerlink" title="2. Header"></a><strong>2. Header</strong></h3><p>요청 Header와 동일한 구조이다.</p>
<p><img src="/../../images/HTTP/http_response_headers3.png" alt="resHeader"></p>
<ul>
<li>HTTP Version</li>
<li>Status</li>
<li>Content-Type</li>
<li><strong>Set-Cookie</strong></li>
</ul>
<h3 id="3-Body"><a href="#3-Body" class="headerlink" title="3. Body"></a>3. Body</h3><p>모든 응답에 Body가 들어가지는 않는다. 201, 204 상태 코드를 가진 응답은 Body가 없다.</p>
<h1 id="📌-HTTPS"><a href="#📌-HTTPS" class="headerlink" title="📌 HTTPS"></a>📌 HTTPS</h1><p>기존 프로토콜에서 데이터가 쉽게 도난당하는 것을 방지하기 위해 <strong>SSL(Secure Socket Layer) 또는 TLS(Transport Layer Security) 프로토콜</strong> 을 사용하여 <strong>브라우저와 서버를 암호화하여 연결해준다.</strong></p>
<p>또한 데이터가 전송중에 손상되거나 수정되는 것을 방지한다.</p>
<ul>
<li>구글같은 포털에서 SEO 가산점을 준다.</li>
</ul>
<h2 id="✏️-SSL-Secure-Socket-Layer-프로토콜"><a href="#✏️-SSL-Secure-Socket-Layer-프로토콜" class="headerlink" title="✏️ SSL(Secure Socket Layer) 프로토콜"></a>✏️ SSL(Secure Socket Layer) 프로토콜</h2><p>HTTPS 프로토콜이 텍스트를 암호화 할 수 있도록 도와주는 프로토콜이다. 암호화 원리는 <strong>공개키 암호화 방식</strong>이다.</p>
<blockquote>
<p>SSL 프로토콜 통제권을 IETF로 넘기면서 TLS로 바뀐 상태인데 현재는 두가지를 혼용해서 사용하고 있다.</p>
</blockquote>
<h3 id="공개키-암호화-방식"><a href="#공개키-암호화-방식" class="headerlink" title="공개키 암호화 방식"></a>공개키 암호화 방식</h3><p>공개키 암호화 방식은 공개키와 개인키를 사용하는 방식이다.</p>
<ul>
<li>공개키는 모두에게 공개해서 사용하는 키이다.</li>
<li>개인키는 서버에서만 가지고 있는 키이다.</li>
</ul>
<h3 id="예시"><a href="#예시" class="headerlink" title="예시"></a>예시</h3><ol>
<li>A 서버가 HTTPS 적용하기 위해 공개키와 개인키를 만든다.</li>
<li>CA 기업을 선택하고 해당 CA 기업에게 공개키 관리를 부탁하며 계약한다.</li>
<li>CA 기업은 <strong>기업명, A 서버 공개키, 공개키 암호화 방법</strong>을 담은 인증서를 만들고 해당 인증서를 CA 기업의 개인키로 암호화해서 A 서버에게 제공한다.</li>
<li>A 서버는 CA 기업의 개인키로 암호화된 인증서를 가지고서 클라이언트로부터 HTTPS이 아닌 요청이 오면 암호화된 인증서를 건네준다.</li>
<li>클라이언트는 예를 들어 <code>main.html</code> 을 서버에 요청했다고 하자. HTTPS 요청이 아니기 때문에 CA기업의 개인키로 암호화된 인증서를 받게된다.<ul>
<li>CA 기업의 공개키는 모두에게 공개되므로 클라이언트는 인증서를 공개키로 복호화하여 A 서버 공개키를 얻었다.</li>
</ul>
</li>
<li>클라이언트가 A 서버에 요청을 보낼 때 텍스트를 공개키로 암호화하며 HTTPS 요청을 보낸다.</li>
<li>서버는 개인키로 암호화된 텍스트를 복호화하여 데이터를 해석하고 응답을 개인키로 암호화하여 클라이언트에게 보낸다.</li>
<li>클라이언트는 다시 공개키로 응답을 해석하여 해당 서버가 인증된 서버임을 알 수 있다.</li>
</ol>
<aside>
📌 단, 신뢰받는 CA 기업이 아닌 자체 인증서를 발급한 경우 브라우저에서 `주의 요함`, `안전하지 않는 사이트`같은 주의를 받게된다.

</aside>

<h2 id="📚-참고"><a href="#📚-참고" class="headerlink" title="📚 참고"></a>📚 참고</h2><ul>
<li><p><a target="_blank" rel="noopener" href="https://velog.io/@jiseung/02-what-is-http#http3-2021">Velog&#x2F;@Jiseung</a></p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://developer.mozilla.org/ko/docs/Web/HTTP">[MDN] HTTP</a></p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://gyoogle.dev/blog/computer-science/network/HTTP%20&%20HTTPS.html">Tech Interview</a></p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://yozm.wishket.com/magazine/detail/1686/?utm_source=stibee&utm_medium=email&utm_campaign=newsletter_yozm&utm_content=contents">웹 개발자라면 알고 있어야 할 HTTP의 진화 과정 | 요즘IT</a></p>
</li>
</ul>

                    
                        


                    
                    
                        <p>
                            <a
                                href="/2022/11/09/CS/HTTP%EC%9D%98-%EC%97%AD%EC%82%AC%EC%99%80-HTTPS/#post-footer"
                                class="postShorten-excerpt_link link"
                                aria-label=""
                            >
                                댓글 공유
                            </a>
                        </p>
                    
                </div>
            
        </div>
        
    </article>
    
    
    <article class="postShorten postShorten--thumbnailimg-bottom">
        <div class="postShorten-wrap">
            
            <div class="postShorten-header">
                <h1 class="postShorten-title">
                    
                        <a
                            class="link-unstyled"
                            href="/2022/11/09/React/stateless-%EC%BB%B4%ED%8F%AC%EB%84%8C%ED%8A%B8%EC%99%80-stateful-%EC%BB%B4%ED%8F%AC%EB%84%8C%ED%8A%B8/"
                            aria-label=": stateless 컴포넌트와 stateful 컴포넌트"
                        >
                            stateless 컴포넌트와 stateful 컴포넌트
                        </a>
                    
                </h1>
                <div class="postShorten-meta">
    <time datetime="2022-11-09T10:57:01+09:00">
	
		    2022/11/09
    	
    </time>
    
        <span>카테고리 </span>
        
    <a class="category-link" href="/categories/React/">React</a>


    
</div>

            </div>
            
                <div class="postShorten-content">
                    <h1 id="🛤-Class-Component-vs-Function-Component"><a href="#🛤-Class-Component-vs-Function-Component" class="headerlink" title="🛤 Class Component vs Function Component"></a>🛤 Class Component vs Function Component</h1><p>과거의 리액트는 상태를 가지는 컴포넌트는 클래스형으로, 상태를 가지지 않는 컴포넌트는 함수형으로 작성하였다. <strong>왜 그랬을까?</strong></p>
<p><img src="/../images/stateless/class&function.png" alt="class&amp;function-components"></p>
<p>Container 컴포넌트는 상태를 가지는데, 함수형 컴포넌트로 생성하게 되면 <red>함수 호출하여 컴포넌트를 생성할 때 마다 상태가 초기화된</red> 값을 가지기 때문에 Container 컴포넌트는 클래스형으로만 작성하였다.</p>
<ul>
<li>this를 사용하기 때문에 <strong>클래스형 컴포넌트가 생성방식이 더 복잡하다.</strong></li>
<li>클래스형 컴포넌트에는 <code>render()</code> 메서드가 꼭 있어야 한다.</li>
<li>클래스형 컴포넌트에서 이벤트 등록 시 this 바인딩을 꼭 해줘야만 한다.</li>
</ul>
<h1 id="📌-stateless-컴포넌트"><a href="#📌-stateless-컴포넌트" class="headerlink" title="📌 stateless 컴포넌트"></a>📌 stateless 컴포넌트</h1><p>stateless 컴포넌트는 말 그대로 상태를 가지지 않는 컴포넌트이다. 이러한 컴포넌트를 stateless 컴포넌트 또는 presentational(프레젠테이셔널) 컴포넌트라고 한다.</p>
<h2 id="목적"><a href="#목적" class="headerlink" title="목적"></a>목적</h2><ul>
<li><red>시각적 표현에 중점</red>을 둔 컴포넌트</li>
<li>시각적 표현을 목적으로 하니 복잡한 비즈니스 로직 필요없다</li>
<li><red>상태를 가질 필요가 없고</red> 외부에서 전달 받은 데이터를 화면에 그려준다.</li>
</ul>
<h2 id="✏️-stateless-컴포넌트는-함수형으로-작성한다"><a href="#✏️-stateless-컴포넌트는-함수형으로-작성한다" class="headerlink" title="✏️ stateless 컴포넌트는 함수형으로 작성한다?"></a>✏️ stateless 컴포넌트는 함수형으로 작성한다?</h2><p>표현을 목적으로 하는 컴포넌트는 복잡한 비즈니스 로직이 필요없고 이를 클래스로 작성할 경우 Babel 컴파일러가 클래스를 컴파일 해줄 때 함수형 컴포넌트일 때 보다 훨씬 더 많은 코드로 컴파일 해주기 때문에 <strong>stateless 컴포넌트를 클래스형으로 작성하는 것은 낭비이다.</strong></p>
<h1 id="📌-stateful-컴포넌트"><a href="#📌-stateful-컴포넌트" class="headerlink" title="📌 stateful 컴포넌트"></a>📌 stateful 컴포넌트</h1><p>상태를 가지는 컴포넌트를 stateful 컴포넌트 또는 Container(컨테이너) 컴포넌트라고 한다.</p>
<h2 id="목적-1"><a href="#목적-1" class="headerlink" title="목적"></a>목적</h2><ul>
<li>비즈니스 로직을 가지고 있다.</li>
<li><red>state(상태)</red>를 가진다.</li>
<li>Presentational 컴포넌트에게 Props를 전달하여 UI 렌더링 하도록 한다.</li>
<li>화면을 그리는 최소한의 스타일 정보를 가진다.</li>
</ul>
<h2 id="❓-stateful-컴포넌트는-함수형으로-작성하지-않는다"><a href="#❓-stateful-컴포넌트는-함수형으로-작성하지-않는다" class="headerlink" title="❓ stateful 컴포넌트는 함수형으로 작성하지 않는다?"></a>❓ stateful 컴포넌트는 <red>함수형으로 작성하지 않는다?</red></h2><p>하지만, <strong>React Hook</strong>의 등장으로 함수형 컴포넌트로도 Container 컴포넌트의 역할이 가능해졌다.</p>
<h1 id="🏓-소감"><a href="#🏓-소감" class="headerlink" title="🏓 소감"></a>🏓 소감</h1><p>클래스형 컴포넌트와 함수형 컴포넌트에 차이에 대해 알게되었다.</p>
<p>프로젝트를 시작하게 될 때, 컴포넌트를 생성할텐데 이 때, 이 컴포넌트가 상태를 가지는 컴포넌트인지 상태를 갖지 않는 컴포넌트인지 구분을 짓고 컴포넌트를 생성해야겠다.</p>
<p>오늘날 리액트에서 React Hook이 등장하게 되면서 클래스형으로만 작성되던 stateful Component가 어떻게 함수형 컴포넌트로 바뀌게 되었는지를 배우게 되면 리액트에 대한 이해가 한층 더 깊어질 것 같다.</p>

                    
                        


                    
                    
                        <p>
                            <a
                                href="/2022/11/09/React/stateless-%EC%BB%B4%ED%8F%AC%EB%84%8C%ED%8A%B8%EC%99%80-stateful-%EC%BB%B4%ED%8F%AC%EB%84%8C%ED%8A%B8/#post-footer"
                                class="postShorten-excerpt_link link"
                                aria-label=""
                            >
                                댓글 공유
                            </a>
                        </p>
                    
                </div>
            
        </div>
        
    </article>
    
    
    <article class="postShorten postShorten--thumbnailimg-bottom">
        <div class="postShorten-wrap">
            
            <div class="postShorten-header">
                <h1 class="postShorten-title">
                    
                        <a
                            class="link-unstyled"
                            href="/2022/11/08/React/Mock-Fn-%EB%AA%A8%EC%9D%98%ED%95%A8%EC%88%98-%ED%85%8C%EC%8A%A4%ED%8A%B8-(React%20DOM%20Test)/"
                            aria-label=": Mock Fn(모의함수) 테스트 (React DOM Test)"
                        >
                            Mock Fn(모의함수) 테스트 (React DOM Test)
                        </a>
                    
                </h1>
                <div class="postShorten-meta">
    <time datetime="2022-11-08T21:17:48+09:00">
	
		    2022/11/08
    	
    </time>
    
        <span>카테고리 </span>
        
    <a class="category-link" href="/categories/React/">React</a>


    
</div>

            </div>
            
                <div class="postShorten-content">
                    <h1 id="📌-Mock-Fn-모의함수-란"><a href="#📌-Mock-Fn-모의함수-란" class="headerlink" title="📌 Mock Fn(모의함수)란?"></a>📌 Mock Fn(모의함수)란?</h1><p>테스트를 위한 함수로, 원하는 함수의 로직을 테스트 하려면 작성해야할 코드가 많지만 테스트 함수를 사용하여 원하는 테스트를 시험할 코드만 간략하게 작성하여 테스트해볼 수 있어 편리하다.</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">test</span>(<span class="string">&quot;`onToggle` 속성(prop)에 연결된 함수가 정상적으로 실행됩니다.&quot;</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">let</span> expected = <span class="string">&quot;triggering toggle event&quot;</span>;</span><br><span class="line">  <span class="keyword">let</span> received = <span class="string">&quot;&quot;</span>;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">render</span>(</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">ToggleButton</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">      <span class="attr">onToggle</span>=<span class="string">&#123;()</span> =&gt;</span> &#123;</span></span><br><span class="line"><span class="language-xml">        received = expected;</span></span><br><span class="line"><span class="language-xml">      &#125;&#125;</span></span><br><span class="line"><span class="language-xml">    /&gt;</span></span><br><span class="line">  );</span><br><span class="line"></span><br><span class="line">  <span class="title function_">expect</span>(received).<span class="property">not</span>.<span class="title function_">toBe</span>(expected);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> element = screen.<span class="title function_">queryByRole</span>(<span class="string">&quot;button&quot;</span>);</span><br><span class="line"></span><br><span class="line">  fireEvent.<span class="title function_">click</span>(element); <span class="comment">// click button element</span></span><br><span class="line"></span><br><span class="line">  <span class="title function_">expect</span>(received).<span class="title function_">toBe</span>(expected);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<ul>
<li>위 예제는 버튼이 클릭되었을 때, 해당 문구가 할당이 제대로 되는지 확인하는 테스트 코드이다.</li>
</ul>
<p>테스트 목적은 버튼 클릭이 제대로 인식되는지, 선택된 요소가 예상된 값으로 할당이 되는지를 확인한다.</p>
<p><strong>이렇게 테스트 코드를 작성하는 것은 번거로운 일이다.</strong></p>
<p>그러므로 간략하게 테스트 함수를 생성하여 이벤트가 발생할 때, 모의 함수가 호출되면 앞서 말한 로직을 구현해줄 수 있으므로 버튼이 클릭되었을 때, 모의 함수 호출이 제대로 되는지만 확인하면 된다.</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// mock Fn</span></span><br><span class="line"><span class="title function_">test</span>(<span class="string">&quot;`onToggle` 속성(prop)에 연결된 함수가 정상적으로 실행됩니다.&quot;</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> mockFn = jest.<span class="title function_">fn</span>();</span><br><span class="line"></span><br><span class="line">  <span class="title function_">render</span>(<span class="language-xml"><span class="tag">&lt;<span class="name">ToggleButton</span> <span class="attr">onToggle</span>=<span class="string">&#123;mockFn&#125;</span> /&gt;</span></span>);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> element = screen.<span class="title function_">getByRole</span>(<span class="string">&quot;button&quot;</span>);</span><br><span class="line"></span><br><span class="line">  fireEvent.<span class="title function_">click</span>(element); <span class="comment">// click button element</span></span><br><span class="line"></span><br><span class="line">  <span class="title function_">expect</span>(mockFn).<span class="title function_">toHaveBeenCalled</span>();</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<h2 id="✏️-React-VirtualDOM-Test"><a href="#✏️-React-VirtualDOM-Test" class="headerlink" title="✏️ React VirtualDOM Test"></a>✏️ React VirtualDOM Test</h2><p>리액트에서는 VitualDOM에 렌더링을 하여 RealDOM과 비교하기 때문에 Test시에도 <strong>RealDOM이 아닌 VirtualDOM에 렌더링된 것으로 테스트를 해줘야한다.</strong></p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">test</span>(<span class="string">&quot;컴포넌트는 기본적으로 &lt;span&gt; 요소로 렌더링 됩니다.&quot;</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="title function_">render</span>(<span class="language-xml"><span class="tag">&lt;<span class="name">A11yHidden</span> <span class="attr">data-testid</span>=<span class="string">&quot;tester&quot;</span> /&gt;</span></span>);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> element = screen.<span class="title function_">getByTestId</span>(<span class="string">&quot;tester&quot;</span>);</span><br><span class="line"></span><br><span class="line">  <span class="title function_">expect</span>(element.<span class="property">localName</span>).<span class="title function_">toBe</span>(<span class="string">&quot;span&quot;</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<ul>
<li>RealDOM에서 <code>querySelector()</code>로 요소를 가져오는 것처럼 VirtualDOM에서는 <code>screen</code>으로 요소를 가져올 수 있다.</li>
<li>해당 요소를 가져오기 위해서 <code>data-testId</code> 값을 사용하였다.</li>
</ul>
<h3 id="❗️-localName-vs-nodeName-차이"><a href="#❗️-localName-vs-nodeName-차이" class="headerlink" title="❗️ localName vs nodeName 차이"></a>❗️ localName vs nodeName 차이</h3><ul>
<li>localName : 소문자를 반환</li>
<li>nodeName : 대문자를 반환</li>
</ul>
<h3 id="defaultProps-사용하기"><a href="#defaultProps-사용하기" class="headerlink" title="defaultProps 사용하기"></a>defaultProps 사용하기</h3><p>리액트 컴포넌트에서는 props에 default 값을 주기 위해서 defaultProps를 사용한다.</p>
<blockquote>
<p>직접 파라미터에 <code>App(&#123; as: ComponentName = &#39;div&#39; &#125;)</code> 이런식으로 주는 것을 안티패턴으로 본다.</p>
</blockquote>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> styles <span class="keyword">from</span> <span class="string">&quot;./A11yHidden.module.css&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">function</span> <span class="title function_">A11yHidden</span>(<span class="params">&#123; <span class="keyword">as</span>: ComponentName, ...restProps &#125;</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">ComponentName</span> <span class="attr">className</span>=<span class="string">&#123;styles.container&#125;</span> &#123;<span class="attr">...restProps</span>&#125;&gt;</span><span class="tag">&lt;/<span class="name">ComponentName</span>&gt;</span></span></span><br><span class="line">  );</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">A11yHidden.<span class="property">defaultProps</span> = &#123;</span><br><span class="line">  <span class="attr">as</span>: <span class="string">&quot;span&quot;</span>,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<ul>
<li>as 라는 props를 받으면 해당하는 <strong>ComponentName으로</strong> 태그를 감싸서 컴포넌트를 생성한다.</li>
</ul>
<blockquote>
<p>component는 PascalCase 명명 규칙을 따르기 때문에 이를 따르지 않으면 에러를 발생시킨다.</p>
</blockquote>
<h3 id="getByRole-vs-getByTestId"><a href="#getByRole-vs-getByTestId" class="headerlink" title="getByRole vs getByTestId"></a>getByRole vs getByTestId</h3><p>기본적으로 <code>div, span</code> 같은 태그는 Role(역할)이 없다. 테스트 케이스에서 이러한 요소를 가져오기 위해서는 Role이 없으니 다른 방법을 찾아야한다.</p>
<p>그에 대한 대안으로 테스트용 <code>data-testId=&quot;tester&quot;</code> 값을 주고 <code>getByTestId()</code>를 사용하여 요소를 가져올 수 있다.</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// div 요소 가져올 경우</span></span><br><span class="line"><span class="title function_">test</span>(<span class="string">&#x27;컴포넌트의 `as` 속성(prop) 값이 &quot;div&quot;인 경우, &lt;div&gt; 요소로 렌더링 됩니다.&#x27;</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="title function_">render</span>(<span class="language-xml"><span class="tag">&lt;<span class="name">Banner</span> <span class="attr">as</span>=<span class="string">&quot;div&quot;</span> <span class="attr">data-testid</span>=<span class="string">&quot;tester&quot;</span> /&gt;</span></span>);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> element = screen.<span class="title function_">getByTestId</span>(<span class="string">&quot;tester&quot;</span>);</span><br><span class="line">  <span class="title function_">expect</span>(element.<span class="property">localName</span>).<span class="title function_">toBe</span>(<span class="string">&quot;div&quot;</span>);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// figure 요소 가져올 경우</span></span><br><span class="line"><span class="title function_">test</span>(<span class="string">&quot;컴포넌트는 기본적으로 &lt;figure&gt; 요소로 렌더링 됩니다.&quot;</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="title function_">render</span>(<span class="language-xml"><span class="tag">&lt;<span class="name">Banner</span> /&gt;</span></span>);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> element = screen.<span class="title function_">getByRole</span>(<span class="string">&quot;figure&quot;</span>);</span><br><span class="line">  <span class="title function_">expect</span>(element.<span class="property">localName</span>).<span class="title function_">toBe</span>(<span class="string">&quot;figure&quot;</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<blockquote>
<p><code>figure, img</code> 등 우리가 직접 Role을 선정해주지 않아도 브라우저에서 해당 태그들을 해석할 때 Role을 할당해주기 때문에 이러한 요소들은 <code>getByRole()</code>를 이용하여 가져올 수 있다.</p>
</blockquote>
<h1 id="🏓-소감"><a href="#🏓-소감" class="headerlink" title="🏓 소감"></a>🏓 소감</h1><p>마침 우테코에서도 Jest를 사용하고 있었는데, 수업시간 때 리액트 DOM 테스트를 해볼 수 있는 기회가 있어서 유익했다. 프론트 엔드에서는 사용자의 행동에 의해 UI가 변경되는 요소들이 많기 때문에 이러한 사용자 액션에 의한 test를 하기 어렵다.</p>
<p>이럴 경우 사용자가 행동하는 것처럼 테스트를 진행하는 storyBook이라는 testing Tool도 있으니 Jest가 익숙해지면 <strong>storyBook도</strong> 사용해봐야겠다.</p>

                    
                        


                    
                    
                        <p>
                            <a
                                href="/2022/11/08/React/Mock-Fn-%EB%AA%A8%EC%9D%98%ED%95%A8%EC%88%98-%ED%85%8C%EC%8A%A4%ED%8A%B8-(React%20DOM%20Test)/#post-footer"
                                class="postShorten-excerpt_link link"
                                aria-label=""
                            >
                                댓글 공유
                            </a>
                        </p>
                    
                </div>
            
        </div>
        
    </article>
    
    
    <article class="postShorten postShorten--thumbnailimg-bottom">
        <div class="postShorten-wrap">
            
            <div class="postShorten-header">
                <h1 class="postShorten-title">
                    
                        <a
                            class="link-unstyled"
                            href="/2022/11/08/Algorithm/woowa/%EC%9A%B0%ED%85%8C%EC%BD%94-%ED%94%84%EB%A6%AC%EC%BD%94%EC%8A%A4-%E2%9A%BE%EF%B8%8F-%EC%88%AB%EC%9E%90-%EC%95%BC%EA%B5%AC-%EA%B2%8C%EC%9E%84/"
                            aria-label=": 우테코 프리코스 - ⚾️ 숫자 야구 게임"
                        >
                            우테코 프리코스 - ⚾️ 숫자 야구 게임
                        </a>
                    
                </h1>
                <div class="postShorten-meta">
    <time datetime="2022-11-08T21:05:23+09:00">
	
		    2022/11/08
    	
    </time>
    
        <span>카테고리 </span>
        
    <a class="category-link" href="/categories/Algorithm/">Algorithm</a>, <a class="category-link" href="/categories/Algorithm/woowa/">woowa</a>


    
</div>

            </div>
            
                <div class="postShorten-content">
                    <h1 id="📌-문제-및-요구사항"><a href="#📌-문제-및-요구사항" class="headerlink" title="📌 문제 및 요구사항"></a>📌 문제 및 요구사항</h1><p><a href="url:https://github.com/loco9939/javascript-baseball">숫자 야구 게임 바로가기</a></p>
<h2 id="✏️-회고"><a href="#✏️-회고" class="headerlink" title="✏️ 회고"></a>✏️ 회고</h2><h3 id="❗️-클래스-필드를-사용할-것인가-constructor-안에서-정의할-것인가"><a href="#❗️-클래스-필드를-사용할-것인가-constructor-안에서-정의할-것인가" class="headerlink" title="❗️ 클래스 필드를 사용할 것인가? constructor() 안에서 정의할 것인가?"></a>❗️ 클래스 필드를 사용할 것인가? constructor() 안에서 정의할 것인가?</h3><ul>
<li>App이라는 클래스는 야구게임 App이다. 야구 게임의 룰을 변경하지 않는 이상 인스턴스를 생성할 때마다 초기화할 값이 없다. 그러므로 <red>초기화 하지 않는 프로퍼티 값들은 클래스 필드에 정의</red>해두었다.</li>
</ul>
<h3 id="❗️-요구사항-제대로-읽기"><a href="#❗️-요구사항-제대로-읽기" class="headerlink" title="❗️ 요구사항 제대로 읽기"></a>❗️ 요구사항 제대로 읽기</h3><ul>
<li><strong>요구사항 제대로 읽지 않아서</strong> 라이브러리 사용하여 랜덤값 구하면 되는데, 랜덤값 구하는 로직 직접 짜서 다시 처음부터 시작하게되었다.</li>
<li>또 제대로 안읽어서 특정 메서드 사용하여 구하라했는데 라이브러리에서 제공하는 다른 메서드로 구현하여 다시 작성했다…</li>
</ul>
<h3 id="❗️jest를-통한-테스트-케이스는-어떻게-확인할-수-있는지-알게되었다"><a href="#❗️jest를-통한-테스트-케이스는-어떻게-확인할-수-있는지-알게되었다" class="headerlink" title="❗️jest를 통한 테스트 케이스는 어떻게 확인할 수 있는지 알게되었다."></a>❗️jest를 통한 테스트 케이스는 어떻게 확인할 수 있는지 알게되었다.</h3><ul>
<li>주어진 라이브러리를 활용하여 1번은 테스트 하는 것을 알 수 있었다. 그런데 2번째 값을 얻기 위해서 내가 해주어야 하는 것이 무엇인지 모르겠다.</li>
</ul>
<p>내가 직접 <strong>예상되는 값을 생각하여 테스트에 입력값만 적어주고</strong> 소스코드에서는 <red>해당 입력값이 넘어왔다가 가정하고 그에 대한 처리</red>를 해주면 되는 것이라는 것을 알게되었다.</p>
<h3 id="❗️랜덤값-받은-것을-프로퍼티로-저장해두자"><a href="#❗️랜덤값-받은-것을-프로퍼티로-저장해두자" class="headerlink" title="❗️랜덤값 받은 것을 프로퍼티로 저장해두자"></a>❗️랜덤값 받은 것을 프로퍼티로 저장해두자</h3><p>함수형 프로그래밍을 하면서 함수를 호출하고 반환된 값을 다른 함수에게 전달하는 방식으로 랜덤값과 입력값을 비교하고 결과를 반환하는 방식으로 하였는데, 이 방법보다는 App 이라는 클래스가 랜덤값과 입력값을 가져 <strong>한곳에서 이 데이터를 가져다가 사용하는 것이 적절하다고 판단</strong>하여 위와 같이 프로퍼티로 저장해두었다.</p>
<h3 id="❗️형변환-확인하기"><a href="#❗️형변환-확인하기" class="headerlink" title="❗️형변환 확인하기"></a>❗️형변환 확인하기</h3><p>테스트 케이스를 작성할 때, <strong>answers 배열의 요소를 문자열로 넣어준 것을 제대로 확인하지 않아</strong> 왜 자꾸 문제가 발생하는지 제대로 파악하기 어려웠다. 아마도 Jest를 사용한 디버깅이 익숙하지 않은 탓이었다. 때문에 여기서 의외로 많은 시간을 보냈다. 단위 테스트를 자주 하면서 Jest 디버깅에도 익숙해지도록 노력해야겠다.</p>
<h1 id="🏓-소감"><a href="#🏓-소감" class="headerlink" title="🏓 소감"></a>🏓 소감</h1><p>저번주에 이어 2주차에 접어들게 되었다. 학원이 끝나고 혹은 주말에 틈틈히 문제를 풀었는데도 익숙하지 않는 Jest 테스트 방법 때문에 해결방법도 모른체로 <strong>삽질(?)</strong> 을 많이했던 한주였다.</p>
<p>그래도 주변에 물어도보고 검색도 하면서 구현까지는 어찌저찌 완성하였다.</p>
<p>하지만 리팩터링에 시간을 많이 쏟지 못한 것이 아쉬웠다. 우테코 문제 푸는 것도 중요하지만 당장 리액트 수업도 복습해야하고, CS 공부도 해야하고 알고리즘 문제도 풀어야하고 해야할 일이 너무 많다.</p>
<p>하지만 꾸준히 계획을 세워서 해나갈 것이니 언젠간 좋은 날이 올 것이라고 믿는다.</p>

                    
                        


                    
                    
                        <p>
                            <a
                                href="/2022/11/08/Algorithm/woowa/%EC%9A%B0%ED%85%8C%EC%BD%94-%ED%94%84%EB%A6%AC%EC%BD%94%EC%8A%A4-%E2%9A%BE%EF%B8%8F-%EC%88%AB%EC%9E%90-%EC%95%BC%EA%B5%AC-%EA%B2%8C%EC%9E%84/#post-footer"
                                class="postShorten-excerpt_link link"
                                aria-label=""
                            >
                                댓글 공유
                            </a>
                        </p>
                    
                </div>
            
        </div>
        
    </article>
    
    
    <article class="postShorten postShorten--thumbnailimg-bottom">
        <div class="postShorten-wrap">
            
            <div class="postShorten-header">
                <h1 class="postShorten-title">
                    
                        <a
                            class="link-unstyled"
                            href="/2022/11/07/React/React-Testing-Library/"
                            aria-label=": React Testing Library"
                        >
                            React Testing Library
                        </a>
                    
                </h1>
                <div class="postShorten-meta">
    <time datetime="2022-11-07T21:04:27+09:00">
	
		    2022/11/07
    	
    </time>
    
        <span>카테고리 </span>
        
    <a class="category-link" href="/categories/React/">React</a>


    
</div>

            </div>
            
                <div class="postShorten-content">
                    <h1 id="📌-React-Testing-Library"><a href="#📌-React-Testing-Library" class="headerlink" title="📌 React Testing Library"></a>📌 React Testing Library</h1><p>리액트에서 TDD 방식의 개발을 하기 위해서 테스팅 라이브러리를 사용해보자.</p>
<h2 id="🎯-목적"><a href="#🎯-목적" class="headerlink" title="🎯 목적"></a>🎯 목적</h2><h3 id="1-버그-캐치"><a href="#1-버그-캐치" class="headerlink" title="1. 버그 캐치"></a>1. 버그 캐치</h3><p>테스트를 통해 예상치 못한 여러가지 버그들을 사전에 확인하기 용이하다.</p>
<h3 id="2-애플리케이션-신뢰도-향상"><a href="#2-애플리케이션-신뢰도-향상" class="headerlink" title="2. 애플리케이션 신뢰도 향상"></a>2. 애플리케이션 신뢰도 향상</h3><p>어떠한 근거로 이 애플리케이션이 제대로 동작하는지 근거를 뒷받침하고 이 근거에 대한 <strong>신뢰도를 높일 수 있다.</strong></p>
<h3 id="3-질문-및-답변-시간-축소"><a href="#3-질문-및-답변-시간-축소" class="headerlink" title="3. 질문 및 답변 시간 축소"></a>3. 질문 및 답변 시간 축소</h3><p>누군가 어떤 컴포넌트가 어떻게 동작하는지 질문했을 때 그에대한 답변으로 이 테스트를 보여주기만 하면된다. 그럼으로 <strong>시간을 절약하고 유지보수성을 높일 수 있다.</strong></p>
<h3 id="4-문서-역할"><a href="#4-문서-역할" class="headerlink" title="4. 문서 역할"></a>4. 문서 역할</h3><p>테스트라는 문서를 제공함으로서 2,3번의 장점을 가능하도록 한다.</p>
<h2 id="💼-사용방법"><a href="#💼-사용방법" class="headerlink" title="💼 사용방법"></a>💼 사용방법</h2><p>우선 해당 라이브러리를 설치해준다.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">npm install --save-dev @testing-library/react</span><br><span class="line"></span><br><span class="line">npm install --save-dev @testing-library/dom</span><br><span class="line"></span><br><span class="line">npm install --save-dev @testing-library/user-event</span><br></pre></td></tr></table></figure>

<p><strong>리액트 테스팅 라이브리러</strong>와 <strong>DOM 테스트 라이브러리, 사용자 행동 테스트 라이브러리</strong>를 설치하여 테스트 개발을 해보자.</p>
<h3 id="🦖-Component-테스트"><a href="#🦖-Component-테스트" class="headerlink" title="🦖 Component 테스트"></a>🦖 Component 테스트</h3><h4 id="✏️-테스트-코드-작성하는-방법"><a href="#✏️-테스트-코드-작성하는-방법" class="headerlink" title="✏️ 테스트 코드 작성하는 방법"></a>✏️ 테스트 코드 작성하는 방법</h4><ol>
<li><p>테스트가 필요한 컴포넌트 렌더링</p>
</li>
<li><p>컴포넌트의 요소 탐색</p>
</li>
<li><p>요소와의 상호작용</p>
</li>
<li><p>어설션 테스트 결과와 기대 값이 일치하는 지 확인</p>
</li>
</ol>
<p>우선 컴포넌트를 생성해주자.</p>
<h3 id="📌-Tip-컴포넌트-생성"><a href="#📌-Tip-컴포넌트-생성" class="headerlink" title="📌 Tip 컴포넌트 생성"></a><strong>📌 Tip 컴포넌트 생성</strong></h3><p>컴포넌트를 쉽게 생성하기 위해 <strong>yamoo9님이 제공해준 Tool</strong>을 사용해보도록하자.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npx degit yamoo9/create-react-component create-react-component</span><br></pre></td></tr></table></figure>

<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// package.json</span></span><br><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">    ...</span><br><span class="line">    <span class="attr">&quot;scripts&quot;</span> <span class="punctuation">:</span></span><br><span class="line">    ...<span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;rc&quot;</span><span class="punctuation">:</span> <span class="string">&quot;node create-react-component create&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;rd&quot;</span><span class="punctuation">:</span> <span class="string">&quot;node create-react-component delete&quot;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">npm run rc -- 컴포넌트_이름 // 컴포넌트 생성</span><br><span class="line">npm run rd -- 컴포넌트_이름 // 컴포넌트 제거</span><br></pre></td></tr></table></figure>

<blockquote>
<p>ESLint 에서 테스팅 라이브러리를 사용하게되면 오류를 띄워주는데 이에 대한 Lint 경고를 꺼두자.</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// package.json</span></span><br><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;eslintConfig&quot;</span><span class="punctuation">:</span><span class="punctuation">&#123;</span>...<span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;testing-library/no-debugging-utils&quot;</span><span class="punctuation">:</span> <span class="string">&quot;off&quot;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure>
</blockquote>
<h1 id="예제"><a href="#예제" class="headerlink" title="예제"></a>예제</h1><h2 id="1-컴포넌트가-렌더링-확인"><a href="#1-컴포넌트가-렌더링-확인" class="headerlink" title="1. 컴포넌트가 렌더링 확인"></a>1. 컴포넌트가 렌더링 확인</h2><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ToggleButton.jsx</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">function</span> <span class="title function_">ToggleButton</span>(<span class="params">&#123; onText, offText, on &#125;</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span>&#123;on ? onText : offText&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ToggleButton.test.jsx</span></span><br><span class="line"><span class="keyword">import</span> &#123; render, screen &#125; <span class="keyword">from</span> <span class="string">&quot;@testing-library/react&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">ToggleButton</span> &#125; <span class="keyword">from</span> <span class="string">&quot;./ToggleButton&quot;</span>;</span><br><span class="line"></span><br><span class="line">describe.<span class="title function_">only</span>(<span class="string">&quot;ToggleButton Test Start!&quot;</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="title function_">test</span>(<span class="string">&quot;컴포넌트가 정상적으로 렌더링 되었습니다.&quot;</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="title function_">render</span>(<span class="language-xml"><span class="tag">&lt;<span class="name">ToggleButton</span> <span class="attr">onText</span>=<span class="string">&quot;1&quot;</span> <span class="attr">offText</span>=<span class="string">&quot;0&quot;</span> /&gt;</span></span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">const</span> offTextElement = screen.<span class="title function_">getByText</span>(<span class="string">&quot;0&quot;</span>);</span><br><span class="line">    <span class="keyword">const</span> onTextElement = screen.<span class="title function_">queryByText</span>(<span class="string">&quot;1&quot;</span>);</span><br><span class="line"></span><br><span class="line">    <span class="title function_">expect</span>(offTextElement).<span class="title function_">toBeInTheDocument</span>();</span><br><span class="line">    <span class="title function_">expect</span>(onTextElement).<span class="property">not</span>.<span class="title function_">toBeInTheDocument</span>();</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<ul>
<li><code>getByText()</code> : 가상으로 그려진 문서에 존재하는 것만 가져올 수 있다. 만약 존재 하지 않는 다면 오류를 발생시킨다.</li>
<li><code>queryByText()</code> : 존재하지 않으면 오류를 발생시키지 않고 <red>null 값으로 가져온다.</red></li>
</ul>
<h2 id="2-활성화-상태-여부에-따라-텍스트-표시"><a href="#2-활성화-상태-여부에-따라-텍스트-표시" class="headerlink" title="2. 활성화 상태 여부에 따라 텍스트 표시"></a>2. 활성화 상태 여부에 따라 텍스트 표시</h2><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ToggleButton.jsx</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">function</span> <span class="title function_">ToggleButton</span>(<span class="params">&#123; onText, offText, on &#125;</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="language-xml"><span class="tag">&lt;<span class="name">button</span> <span class="attr">type</span>=<span class="string">&quot;button&quot;</span>&gt;</span>&#123;on ? onText : offText&#125;<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ToggleButton.test.jsx</span></span><br><span class="line"><span class="title function_">describe</span>(<span class="string">&quot;ToggleButton 컴포넌트&quot;</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="title function_">test</span>(<span class="string">&quot;활성 상태 여부에 따라 활성(ON)/비활성(OFF) 텍스트가 표시됩니다.&quot;</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">let</span> onText = <span class="string">&quot;ON&quot;</span>;</span><br><span class="line">    <span class="keyword">let</span> offText = <span class="string">&quot;OFF&quot;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="title function_">render</span>(<span class="language-xml"><span class="tag">&lt;<span class="name">ToggleButton</span> <span class="attr">onText</span>=<span class="string">&#123;onText&#125;</span> <span class="attr">offText</span>=<span class="string">&#123;offText&#125;</span> /&gt;</span></span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">let</span> elements = screen.<span class="title function_">queryAllByRole</span>(<span class="string">&quot;button&quot;</span>);</span><br><span class="line">    <span class="keyword">let</span> firstElement = elements[<span class="number">0</span>];</span><br><span class="line">    <span class="title function_">expect</span>(firstElement).<span class="title function_">toHaveTextContent</span>(offText);</span><br><span class="line"></span><br><span class="line">    screen.<span class="title function_">debug</span>();</span><br><span class="line"></span><br><span class="line">    <span class="title function_">cleanup</span>();</span><br><span class="line"></span><br><span class="line">    <span class="title function_">render</span>(<span class="language-xml"><span class="tag">&lt;<span class="name">ToggleButton</span> <span class="attr">onText</span>=<span class="string">&#123;onText&#125;</span> <span class="attr">offText</span>=<span class="string">&#123;offText&#125;</span> <span class="attr">on</span> /&gt;</span></span>);</span><br><span class="line"></span><br><span class="line">    elements = screen.<span class="title function_">queryAllByRole</span>(<span class="string">&quot;button&quot;</span>);</span><br><span class="line">    firstElement = elements[<span class="number">0</span>];</span><br><span class="line"></span><br><span class="line">    screen.<span class="title function_">debug</span>();</span><br><span class="line"></span><br><span class="line">    <span class="title function_">expect</span>(firstElement).<span class="title function_">toHaveTextContent</span>(onText);</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<ul>
<li>만약 on 일때의 text와 off일 때의 text를 찾고 싶다면 <strong><code>queryAllText()</code></strong> 를 사용해준다,</li>
<li><strong><code>cleanup()</code>을 해줘야지만 firstElement를 확인할 때, 앞에 그려진 것을 지우고 새로 그려진 것을 비교해줄 수 있다.</strong></li>
</ul>
<h2 id="3-onToggle-속성-prop-에-연결된-함수-실행-확인-amp-활성-상태-컴포넌트는-ToggleButton-on-클래스-이름-포함-확인"><a href="#3-onToggle-속성-prop-에-연결된-함수-실행-확인-amp-활성-상태-컴포넌트는-ToggleButton-on-클래스-이름-포함-확인" class="headerlink" title="3. onToggle 속성(prop)에 연결된 함수 실행 확인 &amp; 활성 상태 컴포넌트는 ToggleButton--on 클래스 이름 포함 확인"></a>3. onToggle 속성(prop)에 연결된 함수 실행 확인 &amp; 활성 상태 컴포넌트는 <code>ToggleButton--on</code> 클래스 이름 포함 확인</h2><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ToggleButton.js</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">function</span> <span class="title function_">ToggleButton</span>(<span class="params">&#123; onText, offText, on, onToggle &#125;</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">button</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">      <span class="attr">type</span>=<span class="string">&quot;button&quot;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">      <span class="attr">className</span>=<span class="string">&#123;</span>`<span class="attr">ToggleButton</span> $&#123;<span class="attr">on</span> ? &quot;<span class="attr">ToggleButton--on</span>&quot; <span class="attr">:</span> &quot;&quot;&#125;`<span class="attr">.trim</span>()&#125;</span></span></span><br><span class="line"><span class="tag"><span class="language-xml">      <span class="attr">onClick</span>=<span class="string">&#123;onToggle&#125;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">    &gt;</span></span></span><br><span class="line"><span class="language-xml">      &#123;on ? onText : offText&#125;</span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line">  );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ToggleButton.test.js</span></span><br><span class="line"><span class="title function_">describe</span>(<span class="string">&quot;ToggleButton 컴포넌트&quot;</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="title function_">test</span>(<span class="string">&quot;`onToggle` 속성(prop)에 연결된 함수가 정상적으로 실행됩니다.&quot;</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">let</span> expected = <span class="string">&quot;triggering toggle event&quot;</span>;</span><br><span class="line">    <span class="keyword">let</span> received = <span class="string">&quot;&quot;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="title function_">render</span>(</span><br><span class="line">      <span class="language-xml"><span class="tag">&lt;<span class="name">ToggleButton</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">        <span class="attr">onToggle</span>=<span class="string">&#123;()</span> =&gt;</span> &#123;</span></span><br><span class="line"><span class="language-xml">          received = expected;</span></span><br><span class="line"><span class="language-xml">        &#125;&#125;</span></span><br><span class="line"><span class="language-xml">      /&gt;</span></span><br><span class="line">    );</span><br><span class="line"></span><br><span class="line">    <span class="title function_">expect</span>(received).<span class="property">not</span>.<span class="title function_">toBe</span>(expected);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">const</span> element = screen.<span class="title function_">queryByRole</span>(<span class="string">&quot;button&quot;</span>);</span><br><span class="line"></span><br><span class="line">    fireEvent.<span class="title function_">click</span>(element); <span class="comment">// click button element</span></span><br><span class="line"></span><br><span class="line">    <span class="title function_">expect</span>(received).<span class="title function_">toBe</span>(expected);</span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line">  <span class="title function_">test</span>(<span class="string">`활성 상태의 컴포넌트는 &#x27;ToggleButton--on&#x27; 클래스 이름을 포함한다.`</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">let</span> expected = <span class="string">&quot;ToggleButton--on&quot;</span>;</span><br><span class="line">    <span class="title function_">render</span>(<span class="language-xml"><span class="tag">&lt;<span class="name">ToggleButton</span> <span class="attr">on</span> /&gt;</span></span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">const</span> element = screen.<span class="title function_">getByRole</span>(<span class="string">&quot;button&quot;</span>);</span><br><span class="line">    <span class="title function_">expect</span>(element).<span class="title function_">toHaveClass</span>(expected);</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<ul>
<li><p><code>fireEvent()</code> : 이벤트를 발생시켜주는 메서드이다.</p>
</li>
<li><p><code>queryByRole()</code> : 해당 요소의 역할을 확인하는데 사용된다.</p>
<p><strong>ex) button 태그에 type을 “button”으로 명시적으로 작성하였는지…</strong></p>
</li>
</ul>
<h1 id="🏓-소감"><a href="#🏓-소감" class="headerlink" title="🏓 소감"></a>🏓 소감</h1><p>오늘 수업에서 상태를 가지지 않는 컴포넌트의 다양한 테스트 방법에 대해 실습을 진행하였다. 리액트를 TDD 방식으로 개발을 진행하게 된다면 앞서 말한 애플리케이션의 신뢰도 향상할 수 있고 테스트 문서를 생성하여 유지보수를 용이하게 할 수 있다는 생각이 들었다.</p>
<p>아직 jest에 익숙하지 않아 낯설고 어렵지만, 우테코에서도 jest를 사용하고 있고 앞으로 자주 사용해보면서 테스트 주도 개발에 대해 몸을 익히도록 해야겠다.</p>

                    
                        


                    
                    
                        <p>
                            <a
                                href="/2022/11/07/React/React-Testing-Library/#post-footer"
                                class="postShorten-excerpt_link link"
                                aria-label=""
                            >
                                댓글 공유
                            </a>
                        </p>
                    
                </div>
            
        </div>
        
    </article>
    
    
    <article class="postShorten postShorten--thumbnailimg-bottom">
        <div class="postShorten-wrap">
            
            <div class="postShorten-header">
                <h1 class="postShorten-title">
                    
                        <a
                            class="link-unstyled"
                            href="/2022/11/07/git/degit-%EC%9D%B4%EB%9E%80/"
                            aria-label=": degit 이란?"
                        >
                            degit 이란?
                        </a>
                    
                </h1>
                <div class="postShorten-meta">
    <time datetime="2022-11-07T20:39:21+09:00">
	
		    2022/11/07
    	
    </time>
    
        <span>카테고리 </span>
        
    <a class="category-link" href="/categories/git/">git</a>


    
</div>

            </div>
            
                <div class="postShorten-content">
                    <h1 id="📌-degit-이란"><a href="#📌-degit-이란" class="headerlink" title="📌 degit 이란?"></a>📌 degit 이란?</h1><p>degit은 git 저장소의 복사본을 만드는 명령어이다.</p>
<h2 id="git-clone-vs-degit"><a href="#git-clone-vs-degit" class="headerlink" title="git clone vs degit"></a>git clone vs degit</h2><p>git clone의 경우 .git 파일까지 같이 가져오므로 <strong>파일 용량이 크고 복제하려는 대상이 git으로 관리되고 있다는 내용을 굳이 가져올 필요가 없는데 .git 파일을 가져온 다는 점은 불편하다.</strong></p>
<p>degit은 .git 파일을 다운로드 하지 않아 <red>git clone 보다 훨씬 빠르다는 장점이 있다.</red></p>
<p>즉, degit으로 복제를 할 경우 버젼관리 없는 새로운 프로젝트를 다운 받을 때 용이하다.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npx degit [프로젝트 url] [로컬 디렉토리명]</span><br></pre></td></tr></table></figure>

<p>위와 같이 npx 명령어로 degit을 설치하지 않고 사용할 수 있다.</p>

                    
                        


                    
                    
                        <p>
                            <a
                                href="/2022/11/07/git/degit-%EC%9D%B4%EB%9E%80/#post-footer"
                                class="postShorten-excerpt_link link"
                                aria-label=""
                            >
                                댓글 공유
                            </a>
                        </p>
                    
                </div>
            
        </div>
        
    </article>
    
    
    <article class="postShorten postShorten--thumbnailimg-bottom">
        <div class="postShorten-wrap">
            
            <div class="postShorten-header">
                <h1 class="postShorten-title">
                    
                        <a
                            class="link-unstyled"
                            href="/2022/11/05/Algorithm/woowa/%EC%9A%B0%ED%85%8C%EC%BD%94-%ED%94%84%EB%A6%AC%EC%BD%94%EC%8A%A4-%F0%9F%98%8E%20%EC%B6%94%EC%B2%9C%20%EC%B9%9C%EA%B5%AC%20%EC%A0%90%EC%88%98%20%EC%A0%95%EB%A0%AC/"
                            aria-label=": 우테코-프리코스-😎 추천 친구 점수 정렬"
                        >
                            우테코-프리코스-😎 추천 친구 점수 정렬
                        </a>
                    
                </h1>
                <div class="postShorten-meta">
    <time datetime="2022-11-05T19:36:33+09:00">
	
		    2022/11/05
    	
    </time>
    
        <span>카테고리 </span>
        
    <a class="category-link" href="/categories/Algorithm/">Algorithm</a>, <a class="category-link" href="/categories/Algorithm/woowa/">woowa</a>


    
</div>

            </div>
            
                <div class="postShorten-content">
                    <h2 id="🚀-기능-요구-사항"><a href="#🚀-기능-요구-사항" class="headerlink" title="🚀 기능 요구 사항"></a>🚀 기능 요구 사항</h2><p>레벨 2의 팀 프로젝트 미션으로 SNS(Social Networking Service)를 만들고자 하는 팀이 있다. 팀에 속한 크루 중 평소 알고리즘에 관심이 많은 미스터코는 친구 추천 알고리즘을 구현하고자 아래와 같은 규칙을 세웠다.</p>
<ul>
<li>사용자와 함께 아는 친구의 수 &#x3D; 10점</li>
<li>사용자의 타임 라인에 방문한 횟수 &#x3D; 1점</li>
</ul>
<p>사용자 아이디 user와 친구 관계를 담은 이차원 배열 friends, 사용자 타임 라인 방문 기록 visitors가 매개변수로 주어질 때, 미스터코의 친구 추천 규칙에 따라 점수가 가장 높은 순으로 정렬하여 최대 5명을 return 하도록 solution 메서드를 완성하라. 이때 추천 점수가 0점인 경우 추천하지 않으며, 추천 점수가 같은 경우는 이름순으로 정렬한다.</p>
<h3 id="제한사항"><a href="#제한사항" class="headerlink" title="제한사항"></a>제한사항</h3><ul>
<li>user는 길이가 1 이상 30 이하인 문자열이다.</li>
<li>friends는 길이가 1 이상 10,000 이하인 배열이다.</li>
<li>friends의 각 원소는 길이가 2인 배열로 [아이디 A, 아이디 B] 순으로 들어있다.<ul>
<li>A와 B는 친구라는 의미이다.</li>
<li>아이디는 길이가 1 이상 30 이하인 문자열이다.</li>
</ul>
</li>
<li>visitors는 길이가 0 이상 10,000 이하인 배열이다.</li>
<li>사용자 아이디는 알파벳 소문자로만 이루어져 있다.</li>
<li>동일한 친구 관계가 중복해서 주어지지 않는다.</li>
<li>추천할 친구가 없는 경우는 주어지지 않는다.</li>
</ul>
<h3 id="실행-결과-예시"><a href="#실행-결과-예시" class="headerlink" title="실행 결과 예시"></a>실행 결과 예시</h3><table>
<thead>
<tr>
<th>user</th>
<th>friends</th>
<th>visitors</th>
<th>result</th>
</tr>
</thead>
<tbody><tr>
<td>“mrko”</td>
<td>[ [“donut”, “andole”], [“donut”, “jun”], [“donut”, “mrko”], [“shakevan”, “andole”], [“shakevan”, “jun”], [“shakevan”, “mrko”] ]</td>
<td>[“bedi”, “bedi”, “donut”, “bedi”, “shakevan”]</td>
<td>[“andole”, “jun”, “bedi”]</td>
</tr>
</tbody></table>
<h1 id="내-코드"><a href="#내-코드" class="headerlink" title="내 코드"></a>내 코드</h1><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">problem7</span>(<span class="params">user, friends, visitors</span>) &#123;</span><br><span class="line">  <span class="keyword">if</span> (</span><br><span class="line">    <span class="keyword">typeof</span> user !== <span class="string">&quot;string&quot;</span> ||</span><br><span class="line">    !<span class="title class_">Array</span>.<span class="title function_">isArray</span>(friends) ||</span><br><span class="line">    !<span class="title class_">Array</span>.<span class="title function_">isArray</span>(visitors)</span><br><span class="line">  )</span><br><span class="line">    <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">Error</span>(</span><br><span class="line">      <span class="string">&quot;user는 문자열, friends는 배열, visitors는 배열이여야 합니다.&quot;</span></span><br><span class="line">    );</span><br><span class="line">  <span class="keyword">if</span> (!user.<span class="property">length</span> || user.<span class="property">length</span> &gt; <span class="number">30</span>)</span><br><span class="line">    <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">RangeError</span>(<span class="string">&quot;user는 길이가 1 이상 30 이하인 문자열이여야 합니다.&quot;</span>);</span><br><span class="line">  <span class="keyword">if</span> (!friends.<span class="property">length</span> || friends.<span class="property">length</span> &gt; <span class="number">10000</span>)</span><br><span class="line">    <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">RangeError</span>(</span><br><span class="line">      <span class="string">&quot;friends는 길이가 1 이상 10,000 이하인 배열이여야 합니다.&quot;</span></span><br><span class="line">    );</span><br><span class="line">  <span class="keyword">if</span> (visitors.<span class="property">length</span> &lt; <span class="number">0</span> || visitors.<span class="property">length</span> &gt; <span class="number">10000</span>)</span><br><span class="line">    <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">RangeError</span>(</span><br><span class="line">      <span class="string">&quot;visitors는 길이가 0 이상 10,000 이하인 배열이여야 합니다.&quot;</span></span><br><span class="line">    );</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 유저의 친구들</span></span><br><span class="line">  <span class="keyword">let</span> userFriends = [];</span><br><span class="line">  friends.<span class="title function_">forEach</span>(<span class="function">(<span class="params">friend</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (friend.<span class="title function_">includes</span>(user)) userFriends = [...userFriends, ...friend];</span><br><span class="line">  &#125;);</span><br><span class="line">  userFriends = userFriends.<span class="title function_">filter</span>(<span class="function">(<span class="params">friend</span>) =&gt;</span> friend !== user);</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 유저 친구의 친구들 =&gt; 알 수도 있는 친구들</span></span><br><span class="line">  <span class="keyword">let</span> mayKnowUsers = [];</span><br><span class="line">  friends.<span class="title function_">forEach</span>(<span class="function">(<span class="params">friend</span>) =&gt;</span> &#123;</span><br><span class="line">    userFriends.<span class="title function_">forEach</span>(<span class="function">(<span class="params">userFriend</span>) =&gt;</span> &#123;</span><br><span class="line">      <span class="keyword">if</span> (friend.<span class="title function_">includes</span>(userFriend))</span><br><span class="line">        mayKnowUsers = [...mayKnowUsers, ...friend];</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line">  mayKnowUsers = mayKnowUsers.<span class="title function_">filter</span>(<span class="function">(<span class="params">mayKnowUser</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> mayKnowUser !== user &amp;&amp; !userFriends.<span class="title function_">includes</span>(mayKnowUser);</span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 유저 점수 계산</span></span><br><span class="line">  <span class="keyword">const</span> userCount = &#123;&#125;;</span><br><span class="line">  mayKnowUsers.<span class="title function_">forEach</span>(<span class="function">(<span class="params">mayKnowUser</span>) =&gt;</span> &#123;</span><br><span class="line">    userCount[mayKnowUser] = (userCount[mayKnowUser] ?? <span class="number">0</span>) + <span class="number">10</span>;</span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line">  visitors.<span class="title function_">forEach</span>(<span class="function">(<span class="params">visitor</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (visitor === user || userFriends.<span class="title function_">includes</span>(visitor)) <span class="keyword">return</span>;</span><br><span class="line">    userCount[visitor] = (userCount[visitor] ?? <span class="number">0</span>) + <span class="number">1</span>;</span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 점수 기준 내림차순 정렬</span></span><br><span class="line">  <span class="keyword">const</span> <span class="title function_">sortFunc</span> = (<span class="params">userA, userB</span>) =&gt; &#123;</span><br><span class="line">    <span class="keyword">const</span> numA = userCount[userA];</span><br><span class="line">    <span class="keyword">const</span> numB = userCount[userB];</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (numA - numB &gt; <span class="number">0</span>) <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> (numA - numB &lt; <span class="number">0</span>) <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">return</span> userA &lt; userB ? -<span class="number">1</span> : userA === userB ? <span class="number">0</span> : <span class="number">1</span>;</span><br><span class="line">  &#125;;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> userId = <span class="title class_">Object</span>.<span class="title function_">keys</span>(userCount);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> userId.<span class="title function_">sort</span>(<span class="function">(<span class="params">userA, userB</span>) =&gt;</span> <span class="title function_">sortFunc</span>(userA, userB)).<span class="title function_">slice</span>(<span class="number">0</span>, <span class="number">5</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>유저의 친구들을 구하였다.</li>
<li>유저의 친구들의 친구들을 구하였다. ⇒ 10점을 매기기 위해</li>
<li>방문객과 유저의 친구의 친구들을 순회하면서 점수를 매겼다.</li>
<li>점수를 기준으로 내림차순 정렬과 동일 점수일 때 알파벳 순으로 정렬을 해주었다.</li>
</ul>
<h1 id="🏓-소감"><a href="#🏓-소감" class="headerlink" title="🏓 소감"></a>🏓 소감</h1><p>이 문제는 처음에 한국말을 이해하기 어려워서 오랫동안 고전했던 문제이다. 친구에게 문제를 차근히 설명해보면서 요구사항에 대해 파악할 수 있었다.</p>
<ul>
<li>시간이 부족하여 6번문제와 7번문제는 리팩터링을 많이 못한 것이 아쉬웠다.</li>
<li>이전까지 sort() 메서드는 단순히 오름차순, 내림차순 정렬에만 사용되는 것이라고 생각했는데, 이번 기회에 sort() 메서드는 두개의 인자를 받아서 -1, 0, 1 값을 return 하는 것을 기준으로 배열의 index를 직접 변경하는 메서드이라는 것을 제대로 알게되었다.</li>
</ul>

                    
                        


                    
                    
                        <p>
                            <a
                                href="/2022/11/05/Algorithm/woowa/%EC%9A%B0%ED%85%8C%EC%BD%94-%ED%94%84%EB%A6%AC%EC%BD%94%EC%8A%A4-%F0%9F%98%8E%20%EC%B6%94%EC%B2%9C%20%EC%B9%9C%EA%B5%AC%20%EC%A0%90%EC%88%98%20%EC%A0%95%EB%A0%AC/#post-footer"
                                class="postShorten-excerpt_link link"
                                aria-label=""
                            >
                                댓글 공유
                            </a>
                        </p>
                    
                </div>
            
        </div>
        
    </article>
    
    <div class="pagination-bar">
    <ul class="pagination">
        
          <li class="pagination-prev">
            <a
                class="btn btn--default btn--small"
                href="/archives/page/3/"
                aria-label="최근 포스트"
            >
              <i class="fa fa-angle-left text-base icon-mr"></i>
              <span>최근 포스트</span>
            </a>
          </li>
        
        
          <li class="pagination-next">
            <a
                class="btn btn--default btn--small"
                href="/archives/page/5/"
                aria-label="이전 포스트"
            >
              <span>이전 포스트</span>
              <i class="fa fa-angle-right text-base icon-ml"></i>
            </a>
          </li>
        
        <li class="pagination-number">page 4 of 13</li>
    </ul>
</div>

</section>



                <footer id="footer" class="main-content-wrap">
    <span class="copyrights">
        Copyrights &copy; 2023 loco9939. All Rights Reserved.
    </span>
</footer>

            </div>
            
        </div>
        


<div id="about">
    <div id="about-card">
        <div id="about-btn-close">
            <i class="fa fa-times"></i>
        </div>
        
            <h4 id="about-card-name">loco9939</h4>
        
            <div id="about-card-bio"><p>author.bio</p>
</div>
        
        
            <div id="about-card-job">
                <i class="fa fa-briefcase"></i>
                <br/>
                <p>author.job</p>

            </div>
        
        
    </div>
</div>

        
        
<div id="cover" style="background-image:url('/assets/images/cover.jpg');"></div>
        <!--SCRIPTS-->

<script src="/assets/js/script-wcqoifde3xwnijjx9xd2irfrrksglozwqpgaqfvxoft22e4znrk7db1xxnsx.min.js"></script>

<!--SCRIPTS END-->





    </body>
</html>
